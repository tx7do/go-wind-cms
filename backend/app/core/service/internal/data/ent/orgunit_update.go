// Code generated by ent, DO NOT EDIT.

package ent

import (
	"context"
	"errors"
	"fmt"
	"go-wind-cms/app/core/service/internal/data/ent/orgunit"
	"go-wind-cms/app/core/service/internal/data/ent/predicate"
	"time"

	"entgo.io/ent/dialect/sql"
	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/dialect/sql/sqljson"
	"entgo.io/ent/schema/field"
)

// OrgUnitUpdate is the builder for updating OrgUnit entities.
type OrgUnitUpdate struct {
	config
	hooks     []Hook
	mutation  *OrgUnitMutation
	modifiers []func(*sql.UpdateBuilder)
}

// Where appends a list predicates to the OrgUnitUpdate builder.
func (_u *OrgUnitUpdate) Where(ps ...predicate.OrgUnit) *OrgUnitUpdate {
	_u.mutation.Where(ps...)
	return _u
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *OrgUnitUpdate) SetUpdatedAt(v time.Time) *OrgUnitUpdate {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// SetNillableUpdatedAt sets the "updated_at" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableUpdatedAt(v *time.Time) *OrgUnitUpdate {
	if v != nil {
		_u.SetUpdatedAt(*v)
	}
	return _u
}

// ClearUpdatedAt clears the value of the "updated_at" field.
func (_u *OrgUnitUpdate) ClearUpdatedAt() *OrgUnitUpdate {
	_u.mutation.ClearUpdatedAt()
	return _u
}

// SetDeletedAt sets the "deleted_at" field.
func (_u *OrgUnitUpdate) SetDeletedAt(v time.Time) *OrgUnitUpdate {
	_u.mutation.SetDeletedAt(v)
	return _u
}

// SetNillableDeletedAt sets the "deleted_at" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableDeletedAt(v *time.Time) *OrgUnitUpdate {
	if v != nil {
		_u.SetDeletedAt(*v)
	}
	return _u
}

// ClearDeletedAt clears the value of the "deleted_at" field.
func (_u *OrgUnitUpdate) ClearDeletedAt() *OrgUnitUpdate {
	_u.mutation.ClearDeletedAt()
	return _u
}

// SetCreatedBy sets the "created_by" field.
func (_u *OrgUnitUpdate) SetCreatedBy(v uint32) *OrgUnitUpdate {
	_u.mutation.ResetCreatedBy()
	_u.mutation.SetCreatedBy(v)
	return _u
}

// SetNillableCreatedBy sets the "created_by" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableCreatedBy(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetCreatedBy(*v)
	}
	return _u
}

// AddCreatedBy adds value to the "created_by" field.
func (_u *OrgUnitUpdate) AddCreatedBy(v int32) *OrgUnitUpdate {
	_u.mutation.AddCreatedBy(v)
	return _u
}

// ClearCreatedBy clears the value of the "created_by" field.
func (_u *OrgUnitUpdate) ClearCreatedBy() *OrgUnitUpdate {
	_u.mutation.ClearCreatedBy()
	return _u
}

// SetUpdatedBy sets the "updated_by" field.
func (_u *OrgUnitUpdate) SetUpdatedBy(v uint32) *OrgUnitUpdate {
	_u.mutation.ResetUpdatedBy()
	_u.mutation.SetUpdatedBy(v)
	return _u
}

// SetNillableUpdatedBy sets the "updated_by" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableUpdatedBy(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetUpdatedBy(*v)
	}
	return _u
}

// AddUpdatedBy adds value to the "updated_by" field.
func (_u *OrgUnitUpdate) AddUpdatedBy(v int32) *OrgUnitUpdate {
	_u.mutation.AddUpdatedBy(v)
	return _u
}

// ClearUpdatedBy clears the value of the "updated_by" field.
func (_u *OrgUnitUpdate) ClearUpdatedBy() *OrgUnitUpdate {
	_u.mutation.ClearUpdatedBy()
	return _u
}

// SetDeletedBy sets the "deleted_by" field.
func (_u *OrgUnitUpdate) SetDeletedBy(v uint32) *OrgUnitUpdate {
	_u.mutation.ResetDeletedBy()
	_u.mutation.SetDeletedBy(v)
	return _u
}

// SetNillableDeletedBy sets the "deleted_by" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableDeletedBy(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetDeletedBy(*v)
	}
	return _u
}

// AddDeletedBy adds value to the "deleted_by" field.
func (_u *OrgUnitUpdate) AddDeletedBy(v int32) *OrgUnitUpdate {
	_u.mutation.AddDeletedBy(v)
	return _u
}

// ClearDeletedBy clears the value of the "deleted_by" field.
func (_u *OrgUnitUpdate) ClearDeletedBy() *OrgUnitUpdate {
	_u.mutation.ClearDeletedBy()
	return _u
}

// SetStatus sets the "status" field.
func (_u *OrgUnitUpdate) SetStatus(v orgunit.Status) *OrgUnitUpdate {
	_u.mutation.SetStatus(v)
	return _u
}

// SetNillableStatus sets the "status" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableStatus(v *orgunit.Status) *OrgUnitUpdate {
	if v != nil {
		_u.SetStatus(*v)
	}
	return _u
}

// SetSortOrder sets the "sort_order" field.
func (_u *OrgUnitUpdate) SetSortOrder(v uint32) *OrgUnitUpdate {
	_u.mutation.ResetSortOrder()
	_u.mutation.SetSortOrder(v)
	return _u
}

// SetNillableSortOrder sets the "sort_order" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableSortOrder(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetSortOrder(*v)
	}
	return _u
}

// AddSortOrder adds value to the "sort_order" field.
func (_u *OrgUnitUpdate) AddSortOrder(v int32) *OrgUnitUpdate {
	_u.mutation.AddSortOrder(v)
	return _u
}

// ClearSortOrder clears the value of the "sort_order" field.
func (_u *OrgUnitUpdate) ClearSortOrder() *OrgUnitUpdate {
	_u.mutation.ClearSortOrder()
	return _u
}

// SetRemark sets the "remark" field.
func (_u *OrgUnitUpdate) SetRemark(v string) *OrgUnitUpdate {
	_u.mutation.SetRemark(v)
	return _u
}

// SetNillableRemark sets the "remark" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableRemark(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetRemark(*v)
	}
	return _u
}

// ClearRemark clears the value of the "remark" field.
func (_u *OrgUnitUpdate) ClearRemark() *OrgUnitUpdate {
	_u.mutation.ClearRemark()
	return _u
}

// SetDescription sets the "description" field.
func (_u *OrgUnitUpdate) SetDescription(v string) *OrgUnitUpdate {
	_u.mutation.SetDescription(v)
	return _u
}

// SetNillableDescription sets the "description" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableDescription(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetDescription(*v)
	}
	return _u
}

// ClearDescription clears the value of the "description" field.
func (_u *OrgUnitUpdate) ClearDescription() *OrgUnitUpdate {
	_u.mutation.ClearDescription()
	return _u
}

// SetParentID sets the "parent_id" field.
func (_u *OrgUnitUpdate) SetParentID(v uint32) *OrgUnitUpdate {
	_u.mutation.SetParentID(v)
	return _u
}

// SetNillableParentID sets the "parent_id" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableParentID(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetParentID(*v)
	}
	return _u
}

// ClearParentID clears the value of the "parent_id" field.
func (_u *OrgUnitUpdate) ClearParentID() *OrgUnitUpdate {
	_u.mutation.ClearParentID()
	return _u
}

// SetPath sets the "path" field.
func (_u *OrgUnitUpdate) SetPath(v string) *OrgUnitUpdate {
	_u.mutation.SetPath(v)
	return _u
}

// SetNillablePath sets the "path" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillablePath(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetPath(*v)
	}
	return _u
}

// ClearPath clears the value of the "path" field.
func (_u *OrgUnitUpdate) ClearPath() *OrgUnitUpdate {
	_u.mutation.ClearPath()
	return _u
}

// SetName sets the "name" field.
func (_u *OrgUnitUpdate) SetName(v string) *OrgUnitUpdate {
	_u.mutation.SetName(v)
	return _u
}

// SetNillableName sets the "name" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableName(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetName(*v)
	}
	return _u
}

// SetCode sets the "code" field.
func (_u *OrgUnitUpdate) SetCode(v string) *OrgUnitUpdate {
	_u.mutation.SetCode(v)
	return _u
}

// SetNillableCode sets the "code" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableCode(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetCode(*v)
	}
	return _u
}

// ClearCode clears the value of the "code" field.
func (_u *OrgUnitUpdate) ClearCode() *OrgUnitUpdate {
	_u.mutation.ClearCode()
	return _u
}

// SetLeaderID sets the "leader_id" field.
func (_u *OrgUnitUpdate) SetLeaderID(v uint32) *OrgUnitUpdate {
	_u.mutation.ResetLeaderID()
	_u.mutation.SetLeaderID(v)
	return _u
}

// SetNillableLeaderID sets the "leader_id" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableLeaderID(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetLeaderID(*v)
	}
	return _u
}

// AddLeaderID adds value to the "leader_id" field.
func (_u *OrgUnitUpdate) AddLeaderID(v int32) *OrgUnitUpdate {
	_u.mutation.AddLeaderID(v)
	return _u
}

// ClearLeaderID clears the value of the "leader_id" field.
func (_u *OrgUnitUpdate) ClearLeaderID() *OrgUnitUpdate {
	_u.mutation.ClearLeaderID()
	return _u
}

// SetType sets the "type" field.
func (_u *OrgUnitUpdate) SetType(v orgunit.Type) *OrgUnitUpdate {
	_u.mutation.SetType(v)
	return _u
}

// SetNillableType sets the "type" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableType(v *orgunit.Type) *OrgUnitUpdate {
	if v != nil {
		_u.SetType(*v)
	}
	return _u
}

// SetBusinessScopes sets the "business_scopes" field.
func (_u *OrgUnitUpdate) SetBusinessScopes(v []string) *OrgUnitUpdate {
	_u.mutation.SetBusinessScopes(v)
	return _u
}

// AppendBusinessScopes appends value to the "business_scopes" field.
func (_u *OrgUnitUpdate) AppendBusinessScopes(v []string) *OrgUnitUpdate {
	_u.mutation.AppendBusinessScopes(v)
	return _u
}

// ClearBusinessScopes clears the value of the "business_scopes" field.
func (_u *OrgUnitUpdate) ClearBusinessScopes() *OrgUnitUpdate {
	_u.mutation.ClearBusinessScopes()
	return _u
}

// SetExternalID sets the "external_id" field.
func (_u *OrgUnitUpdate) SetExternalID(v string) *OrgUnitUpdate {
	_u.mutation.SetExternalID(v)
	return _u
}

// SetNillableExternalID sets the "external_id" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableExternalID(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetExternalID(*v)
	}
	return _u
}

// ClearExternalID clears the value of the "external_id" field.
func (_u *OrgUnitUpdate) ClearExternalID() *OrgUnitUpdate {
	_u.mutation.ClearExternalID()
	return _u
}

// SetIsLegalEntity sets the "is_legal_entity" field.
func (_u *OrgUnitUpdate) SetIsLegalEntity(v bool) *OrgUnitUpdate {
	_u.mutation.SetIsLegalEntity(v)
	return _u
}

// SetNillableIsLegalEntity sets the "is_legal_entity" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableIsLegalEntity(v *bool) *OrgUnitUpdate {
	if v != nil {
		_u.SetIsLegalEntity(*v)
	}
	return _u
}

// ClearIsLegalEntity clears the value of the "is_legal_entity" field.
func (_u *OrgUnitUpdate) ClearIsLegalEntity() *OrgUnitUpdate {
	_u.mutation.ClearIsLegalEntity()
	return _u
}

// SetRegistrationNumber sets the "registration_number" field.
func (_u *OrgUnitUpdate) SetRegistrationNumber(v string) *OrgUnitUpdate {
	_u.mutation.SetRegistrationNumber(v)
	return _u
}

// SetNillableRegistrationNumber sets the "registration_number" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableRegistrationNumber(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetRegistrationNumber(*v)
	}
	return _u
}

// ClearRegistrationNumber clears the value of the "registration_number" field.
func (_u *OrgUnitUpdate) ClearRegistrationNumber() *OrgUnitUpdate {
	_u.mutation.ClearRegistrationNumber()
	return _u
}

// SetTaxID sets the "tax_id" field.
func (_u *OrgUnitUpdate) SetTaxID(v string) *OrgUnitUpdate {
	_u.mutation.SetTaxID(v)
	return _u
}

// SetNillableTaxID sets the "tax_id" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableTaxID(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetTaxID(*v)
	}
	return _u
}

// ClearTaxID clears the value of the "tax_id" field.
func (_u *OrgUnitUpdate) ClearTaxID() *OrgUnitUpdate {
	_u.mutation.ClearTaxID()
	return _u
}

// SetLegalEntityOrgID sets the "legal_entity_org_id" field.
func (_u *OrgUnitUpdate) SetLegalEntityOrgID(v uint32) *OrgUnitUpdate {
	_u.mutation.ResetLegalEntityOrgID()
	_u.mutation.SetLegalEntityOrgID(v)
	return _u
}

// SetNillableLegalEntityOrgID sets the "legal_entity_org_id" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableLegalEntityOrgID(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetLegalEntityOrgID(*v)
	}
	return _u
}

// AddLegalEntityOrgID adds value to the "legal_entity_org_id" field.
func (_u *OrgUnitUpdate) AddLegalEntityOrgID(v int32) *OrgUnitUpdate {
	_u.mutation.AddLegalEntityOrgID(v)
	return _u
}

// ClearLegalEntityOrgID clears the value of the "legal_entity_org_id" field.
func (_u *OrgUnitUpdate) ClearLegalEntityOrgID() *OrgUnitUpdate {
	_u.mutation.ClearLegalEntityOrgID()
	return _u
}

// SetAddress sets the "address" field.
func (_u *OrgUnitUpdate) SetAddress(v string) *OrgUnitUpdate {
	_u.mutation.SetAddress(v)
	return _u
}

// SetNillableAddress sets the "address" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableAddress(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetAddress(*v)
	}
	return _u
}

// ClearAddress clears the value of the "address" field.
func (_u *OrgUnitUpdate) ClearAddress() *OrgUnitUpdate {
	_u.mutation.ClearAddress()
	return _u
}

// SetPhone sets the "phone" field.
func (_u *OrgUnitUpdate) SetPhone(v string) *OrgUnitUpdate {
	_u.mutation.SetPhone(v)
	return _u
}

// SetNillablePhone sets the "phone" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillablePhone(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetPhone(*v)
	}
	return _u
}

// ClearPhone clears the value of the "phone" field.
func (_u *OrgUnitUpdate) ClearPhone() *OrgUnitUpdate {
	_u.mutation.ClearPhone()
	return _u
}

// SetEmail sets the "email" field.
func (_u *OrgUnitUpdate) SetEmail(v string) *OrgUnitUpdate {
	_u.mutation.SetEmail(v)
	return _u
}

// SetNillableEmail sets the "email" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableEmail(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetEmail(*v)
	}
	return _u
}

// ClearEmail clears the value of the "email" field.
func (_u *OrgUnitUpdate) ClearEmail() *OrgUnitUpdate {
	_u.mutation.ClearEmail()
	return _u
}

// SetTimezone sets the "timezone" field.
func (_u *OrgUnitUpdate) SetTimezone(v string) *OrgUnitUpdate {
	_u.mutation.SetTimezone(v)
	return _u
}

// SetNillableTimezone sets the "timezone" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableTimezone(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetTimezone(*v)
	}
	return _u
}

// ClearTimezone clears the value of the "timezone" field.
func (_u *OrgUnitUpdate) ClearTimezone() *OrgUnitUpdate {
	_u.mutation.ClearTimezone()
	return _u
}

// SetCountry sets the "country" field.
func (_u *OrgUnitUpdate) SetCountry(v string) *OrgUnitUpdate {
	_u.mutation.SetCountry(v)
	return _u
}

// SetNillableCountry sets the "country" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableCountry(v *string) *OrgUnitUpdate {
	if v != nil {
		_u.SetCountry(*v)
	}
	return _u
}

// ClearCountry clears the value of the "country" field.
func (_u *OrgUnitUpdate) ClearCountry() *OrgUnitUpdate {
	_u.mutation.ClearCountry()
	return _u
}

// SetLatitude sets the "latitude" field.
func (_u *OrgUnitUpdate) SetLatitude(v float64) *OrgUnitUpdate {
	_u.mutation.ResetLatitude()
	_u.mutation.SetLatitude(v)
	return _u
}

// SetNillableLatitude sets the "latitude" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableLatitude(v *float64) *OrgUnitUpdate {
	if v != nil {
		_u.SetLatitude(*v)
	}
	return _u
}

// AddLatitude adds value to the "latitude" field.
func (_u *OrgUnitUpdate) AddLatitude(v float64) *OrgUnitUpdate {
	_u.mutation.AddLatitude(v)
	return _u
}

// ClearLatitude clears the value of the "latitude" field.
func (_u *OrgUnitUpdate) ClearLatitude() *OrgUnitUpdate {
	_u.mutation.ClearLatitude()
	return _u
}

// SetLongitude sets the "longitude" field.
func (_u *OrgUnitUpdate) SetLongitude(v float64) *OrgUnitUpdate {
	_u.mutation.ResetLongitude()
	_u.mutation.SetLongitude(v)
	return _u
}

// SetNillableLongitude sets the "longitude" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableLongitude(v *float64) *OrgUnitUpdate {
	if v != nil {
		_u.SetLongitude(*v)
	}
	return _u
}

// AddLongitude adds value to the "longitude" field.
func (_u *OrgUnitUpdate) AddLongitude(v float64) *OrgUnitUpdate {
	_u.mutation.AddLongitude(v)
	return _u
}

// ClearLongitude clears the value of the "longitude" field.
func (_u *OrgUnitUpdate) ClearLongitude() *OrgUnitUpdate {
	_u.mutation.ClearLongitude()
	return _u
}

// SetStartAt sets the "start_at" field.
func (_u *OrgUnitUpdate) SetStartAt(v time.Time) *OrgUnitUpdate {
	_u.mutation.SetStartAt(v)
	return _u
}

// SetNillableStartAt sets the "start_at" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableStartAt(v *time.Time) *OrgUnitUpdate {
	if v != nil {
		_u.SetStartAt(*v)
	}
	return _u
}

// ClearStartAt clears the value of the "start_at" field.
func (_u *OrgUnitUpdate) ClearStartAt() *OrgUnitUpdate {
	_u.mutation.ClearStartAt()
	return _u
}

// SetEndAt sets the "end_at" field.
func (_u *OrgUnitUpdate) SetEndAt(v time.Time) *OrgUnitUpdate {
	_u.mutation.SetEndAt(v)
	return _u
}

// SetNillableEndAt sets the "end_at" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableEndAt(v *time.Time) *OrgUnitUpdate {
	if v != nil {
		_u.SetEndAt(*v)
	}
	return _u
}

// ClearEndAt clears the value of the "end_at" field.
func (_u *OrgUnitUpdate) ClearEndAt() *OrgUnitUpdate {
	_u.mutation.ClearEndAt()
	return _u
}

// SetContactUserID sets the "contact_user_id" field.
func (_u *OrgUnitUpdate) SetContactUserID(v uint32) *OrgUnitUpdate {
	_u.mutation.ResetContactUserID()
	_u.mutation.SetContactUserID(v)
	return _u
}

// SetNillableContactUserID sets the "contact_user_id" field if the given value is not nil.
func (_u *OrgUnitUpdate) SetNillableContactUserID(v *uint32) *OrgUnitUpdate {
	if v != nil {
		_u.SetContactUserID(*v)
	}
	return _u
}

// AddContactUserID adds value to the "contact_user_id" field.
func (_u *OrgUnitUpdate) AddContactUserID(v int32) *OrgUnitUpdate {
	_u.mutation.AddContactUserID(v)
	return _u
}

// ClearContactUserID clears the value of the "contact_user_id" field.
func (_u *OrgUnitUpdate) ClearContactUserID() *OrgUnitUpdate {
	_u.mutation.ClearContactUserID()
	return _u
}

// SetPermissionTags sets the "permission_tags" field.
func (_u *OrgUnitUpdate) SetPermissionTags(v []string) *OrgUnitUpdate {
	_u.mutation.SetPermissionTags(v)
	return _u
}

// AppendPermissionTags appends value to the "permission_tags" field.
func (_u *OrgUnitUpdate) AppendPermissionTags(v []string) *OrgUnitUpdate {
	_u.mutation.AppendPermissionTags(v)
	return _u
}

// ClearPermissionTags clears the value of the "permission_tags" field.
func (_u *OrgUnitUpdate) ClearPermissionTags() *OrgUnitUpdate {
	_u.mutation.ClearPermissionTags()
	return _u
}

// SetParent sets the "parent" edge to the OrgUnit entity.
func (_u *OrgUnitUpdate) SetParent(v *OrgUnit) *OrgUnitUpdate {
	return _u.SetParentID(v.ID)
}

// AddChildIDs adds the "children" edge to the OrgUnit entity by IDs.
func (_u *OrgUnitUpdate) AddChildIDs(ids ...uint32) *OrgUnitUpdate {
	_u.mutation.AddChildIDs(ids...)
	return _u
}

// AddChildren adds the "children" edges to the OrgUnit entity.
func (_u *OrgUnitUpdate) AddChildren(v ...*OrgUnit) *OrgUnitUpdate {
	ids := make([]uint32, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddChildIDs(ids...)
}

// Mutation returns the OrgUnitMutation object of the builder.
func (_u *OrgUnitUpdate) Mutation() *OrgUnitMutation {
	return _u.mutation
}

// ClearParent clears the "parent" edge to the OrgUnit entity.
func (_u *OrgUnitUpdate) ClearParent() *OrgUnitUpdate {
	_u.mutation.ClearParent()
	return _u
}

// ClearChildren clears all "children" edges to the OrgUnit entity.
func (_u *OrgUnitUpdate) ClearChildren() *OrgUnitUpdate {
	_u.mutation.ClearChildren()
	return _u
}

// RemoveChildIDs removes the "children" edge to OrgUnit entities by IDs.
func (_u *OrgUnitUpdate) RemoveChildIDs(ids ...uint32) *OrgUnitUpdate {
	_u.mutation.RemoveChildIDs(ids...)
	return _u
}

// RemoveChildren removes "children" edges to OrgUnit entities.
func (_u *OrgUnitUpdate) RemoveChildren(v ...*OrgUnit) *OrgUnitUpdate {
	ids := make([]uint32, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveChildIDs(ids...)
}

// Save executes the query and returns the number of nodes affected by the update operation.
func (_u *OrgUnitUpdate) Save(ctx context.Context) (int, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *OrgUnitUpdate) SaveX(ctx context.Context) int {
	affected, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return affected
}

// Exec executes the query.
func (_u *OrgUnitUpdate) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *OrgUnitUpdate) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *OrgUnitUpdate) check() error {
	if v, ok := _u.mutation.Status(); ok {
		if err := orgunit.StatusValidator(v); err != nil {
			return &ValidationError{Name: "status", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.status": %w`, err)}
		}
	}
	if v, ok := _u.mutation.Path(); ok {
		if err := orgunit.PathValidator(v); err != nil {
			return &ValidationError{Name: "path", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.path": %w`, err)}
		}
	}
	if v, ok := _u.mutation.Name(); ok {
		if err := orgunit.NameValidator(v); err != nil {
			return &ValidationError{Name: "name", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.name": %w`, err)}
		}
	}
	if v, ok := _u.mutation.GetType(); ok {
		if err := orgunit.TypeValidator(v); err != nil {
			return &ValidationError{Name: "type", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.type": %w`, err)}
		}
	}
	return nil
}

// Modify adds a statement modifier for attaching custom logic to the UPDATE statement.
func (_u *OrgUnitUpdate) Modify(modifiers ...func(u *sql.UpdateBuilder)) *OrgUnitUpdate {
	_u.modifiers = append(_u.modifiers, modifiers...)
	return _u
}

func (_u *OrgUnitUpdate) sqlSave(ctx context.Context) (_node int, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(orgunit.Table, orgunit.Columns, sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32))
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if _u.mutation.CreatedAtCleared() {
		_spec.ClearField(orgunit.FieldCreatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(orgunit.FieldUpdatedAt, field.TypeTime, value)
	}
	if _u.mutation.UpdatedAtCleared() {
		_spec.ClearField(orgunit.FieldUpdatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.DeletedAt(); ok {
		_spec.SetField(orgunit.FieldDeletedAt, field.TypeTime, value)
	}
	if _u.mutation.DeletedAtCleared() {
		_spec.ClearField(orgunit.FieldDeletedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.CreatedBy(); ok {
		_spec.SetField(orgunit.FieldCreatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedCreatedBy(); ok {
		_spec.AddField(orgunit.FieldCreatedBy, field.TypeUint32, value)
	}
	if _u.mutation.CreatedByCleared() {
		_spec.ClearField(orgunit.FieldCreatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.UpdatedBy(); ok {
		_spec.SetField(orgunit.FieldUpdatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedUpdatedBy(); ok {
		_spec.AddField(orgunit.FieldUpdatedBy, field.TypeUint32, value)
	}
	if _u.mutation.UpdatedByCleared() {
		_spec.ClearField(orgunit.FieldUpdatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.DeletedBy(); ok {
		_spec.SetField(orgunit.FieldDeletedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedDeletedBy(); ok {
		_spec.AddField(orgunit.FieldDeletedBy, field.TypeUint32, value)
	}
	if _u.mutation.DeletedByCleared() {
		_spec.ClearField(orgunit.FieldDeletedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.Status(); ok {
		_spec.SetField(orgunit.FieldStatus, field.TypeEnum, value)
	}
	if value, ok := _u.mutation.SortOrder(); ok {
		_spec.SetField(orgunit.FieldSortOrder, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedSortOrder(); ok {
		_spec.AddField(orgunit.FieldSortOrder, field.TypeUint32, value)
	}
	if _u.mutation.SortOrderCleared() {
		_spec.ClearField(orgunit.FieldSortOrder, field.TypeUint32)
	}
	if _u.mutation.TenantIDCleared() {
		_spec.ClearField(orgunit.FieldTenantID, field.TypeUint32)
	}
	if value, ok := _u.mutation.Remark(); ok {
		_spec.SetField(orgunit.FieldRemark, field.TypeString, value)
	}
	if _u.mutation.RemarkCleared() {
		_spec.ClearField(orgunit.FieldRemark, field.TypeString)
	}
	if value, ok := _u.mutation.Description(); ok {
		_spec.SetField(orgunit.FieldDescription, field.TypeString, value)
	}
	if _u.mutation.DescriptionCleared() {
		_spec.ClearField(orgunit.FieldDescription, field.TypeString)
	}
	if value, ok := _u.mutation.Path(); ok {
		_spec.SetField(orgunit.FieldPath, field.TypeString, value)
	}
	if _u.mutation.PathCleared() {
		_spec.ClearField(orgunit.FieldPath, field.TypeString)
	}
	if value, ok := _u.mutation.Name(); ok {
		_spec.SetField(orgunit.FieldName, field.TypeString, value)
	}
	if value, ok := _u.mutation.Code(); ok {
		_spec.SetField(orgunit.FieldCode, field.TypeString, value)
	}
	if _u.mutation.CodeCleared() {
		_spec.ClearField(orgunit.FieldCode, field.TypeString)
	}
	if value, ok := _u.mutation.LeaderID(); ok {
		_spec.SetField(orgunit.FieldLeaderID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedLeaderID(); ok {
		_spec.AddField(orgunit.FieldLeaderID, field.TypeUint32, value)
	}
	if _u.mutation.LeaderIDCleared() {
		_spec.ClearField(orgunit.FieldLeaderID, field.TypeUint32)
	}
	if value, ok := _u.mutation.GetType(); ok {
		_spec.SetField(orgunit.FieldType, field.TypeEnum, value)
	}
	if value, ok := _u.mutation.BusinessScopes(); ok {
		_spec.SetField(orgunit.FieldBusinessScopes, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedBusinessScopes(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, orgunit.FieldBusinessScopes, value)
		})
	}
	if _u.mutation.BusinessScopesCleared() {
		_spec.ClearField(orgunit.FieldBusinessScopes, field.TypeJSON)
	}
	if value, ok := _u.mutation.ExternalID(); ok {
		_spec.SetField(orgunit.FieldExternalID, field.TypeString, value)
	}
	if _u.mutation.ExternalIDCleared() {
		_spec.ClearField(orgunit.FieldExternalID, field.TypeString)
	}
	if value, ok := _u.mutation.IsLegalEntity(); ok {
		_spec.SetField(orgunit.FieldIsLegalEntity, field.TypeBool, value)
	}
	if _u.mutation.IsLegalEntityCleared() {
		_spec.ClearField(orgunit.FieldIsLegalEntity, field.TypeBool)
	}
	if value, ok := _u.mutation.RegistrationNumber(); ok {
		_spec.SetField(orgunit.FieldRegistrationNumber, field.TypeString, value)
	}
	if _u.mutation.RegistrationNumberCleared() {
		_spec.ClearField(orgunit.FieldRegistrationNumber, field.TypeString)
	}
	if value, ok := _u.mutation.TaxID(); ok {
		_spec.SetField(orgunit.FieldTaxID, field.TypeString, value)
	}
	if _u.mutation.TaxIDCleared() {
		_spec.ClearField(orgunit.FieldTaxID, field.TypeString)
	}
	if value, ok := _u.mutation.LegalEntityOrgID(); ok {
		_spec.SetField(orgunit.FieldLegalEntityOrgID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedLegalEntityOrgID(); ok {
		_spec.AddField(orgunit.FieldLegalEntityOrgID, field.TypeUint32, value)
	}
	if _u.mutation.LegalEntityOrgIDCleared() {
		_spec.ClearField(orgunit.FieldLegalEntityOrgID, field.TypeUint32)
	}
	if value, ok := _u.mutation.Address(); ok {
		_spec.SetField(orgunit.FieldAddress, field.TypeString, value)
	}
	if _u.mutation.AddressCleared() {
		_spec.ClearField(orgunit.FieldAddress, field.TypeString)
	}
	if value, ok := _u.mutation.Phone(); ok {
		_spec.SetField(orgunit.FieldPhone, field.TypeString, value)
	}
	if _u.mutation.PhoneCleared() {
		_spec.ClearField(orgunit.FieldPhone, field.TypeString)
	}
	if value, ok := _u.mutation.Email(); ok {
		_spec.SetField(orgunit.FieldEmail, field.TypeString, value)
	}
	if _u.mutation.EmailCleared() {
		_spec.ClearField(orgunit.FieldEmail, field.TypeString)
	}
	if value, ok := _u.mutation.Timezone(); ok {
		_spec.SetField(orgunit.FieldTimezone, field.TypeString, value)
	}
	if _u.mutation.TimezoneCleared() {
		_spec.ClearField(orgunit.FieldTimezone, field.TypeString)
	}
	if value, ok := _u.mutation.Country(); ok {
		_spec.SetField(orgunit.FieldCountry, field.TypeString, value)
	}
	if _u.mutation.CountryCleared() {
		_spec.ClearField(orgunit.FieldCountry, field.TypeString)
	}
	if value, ok := _u.mutation.Latitude(); ok {
		_spec.SetField(orgunit.FieldLatitude, field.TypeFloat64, value)
	}
	if value, ok := _u.mutation.AddedLatitude(); ok {
		_spec.AddField(orgunit.FieldLatitude, field.TypeFloat64, value)
	}
	if _u.mutation.LatitudeCleared() {
		_spec.ClearField(orgunit.FieldLatitude, field.TypeFloat64)
	}
	if value, ok := _u.mutation.Longitude(); ok {
		_spec.SetField(orgunit.FieldLongitude, field.TypeFloat64, value)
	}
	if value, ok := _u.mutation.AddedLongitude(); ok {
		_spec.AddField(orgunit.FieldLongitude, field.TypeFloat64, value)
	}
	if _u.mutation.LongitudeCleared() {
		_spec.ClearField(orgunit.FieldLongitude, field.TypeFloat64)
	}
	if value, ok := _u.mutation.StartAt(); ok {
		_spec.SetField(orgunit.FieldStartAt, field.TypeTime, value)
	}
	if _u.mutation.StartAtCleared() {
		_spec.ClearField(orgunit.FieldStartAt, field.TypeTime)
	}
	if value, ok := _u.mutation.EndAt(); ok {
		_spec.SetField(orgunit.FieldEndAt, field.TypeTime, value)
	}
	if _u.mutation.EndAtCleared() {
		_spec.ClearField(orgunit.FieldEndAt, field.TypeTime)
	}
	if value, ok := _u.mutation.ContactUserID(); ok {
		_spec.SetField(orgunit.FieldContactUserID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedContactUserID(); ok {
		_spec.AddField(orgunit.FieldContactUserID, field.TypeUint32, value)
	}
	if _u.mutation.ContactUserIDCleared() {
		_spec.ClearField(orgunit.FieldContactUserID, field.TypeUint32)
	}
	if value, ok := _u.mutation.PermissionTags(); ok {
		_spec.SetField(orgunit.FieldPermissionTags, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedPermissionTags(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, orgunit.FieldPermissionTags, value)
		})
	}
	if _u.mutation.PermissionTagsCleared() {
		_spec.ClearField(orgunit.FieldPermissionTags, field.TypeJSON)
	}
	if _u.mutation.ParentCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   orgunit.ParentTable,
			Columns: []string{orgunit.ParentColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ParentIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   orgunit.ParentTable,
			Columns: []string{orgunit.ParentColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ChildrenCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   orgunit.ChildrenTable,
			Columns: []string{orgunit.ChildrenColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedChildrenIDs(); len(nodes) > 0 && !_u.mutation.ChildrenCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   orgunit.ChildrenTable,
			Columns: []string{orgunit.ChildrenColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ChildrenIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   orgunit.ChildrenTable,
			Columns: []string{orgunit.ChildrenColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	_spec.AddModifiers(_u.modifiers...)
	if _node, err = sqlgraph.UpdateNodes(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{orgunit.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return 0, err
	}
	_u.mutation.done = true
	return _node, nil
}

// OrgUnitUpdateOne is the builder for updating a single OrgUnit entity.
type OrgUnitUpdateOne struct {
	config
	fields    []string
	hooks     []Hook
	mutation  *OrgUnitMutation
	modifiers []func(*sql.UpdateBuilder)
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *OrgUnitUpdateOne) SetUpdatedAt(v time.Time) *OrgUnitUpdateOne {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// SetNillableUpdatedAt sets the "updated_at" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableUpdatedAt(v *time.Time) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetUpdatedAt(*v)
	}
	return _u
}

// ClearUpdatedAt clears the value of the "updated_at" field.
func (_u *OrgUnitUpdateOne) ClearUpdatedAt() *OrgUnitUpdateOne {
	_u.mutation.ClearUpdatedAt()
	return _u
}

// SetDeletedAt sets the "deleted_at" field.
func (_u *OrgUnitUpdateOne) SetDeletedAt(v time.Time) *OrgUnitUpdateOne {
	_u.mutation.SetDeletedAt(v)
	return _u
}

// SetNillableDeletedAt sets the "deleted_at" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableDeletedAt(v *time.Time) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetDeletedAt(*v)
	}
	return _u
}

// ClearDeletedAt clears the value of the "deleted_at" field.
func (_u *OrgUnitUpdateOne) ClearDeletedAt() *OrgUnitUpdateOne {
	_u.mutation.ClearDeletedAt()
	return _u
}

// SetCreatedBy sets the "created_by" field.
func (_u *OrgUnitUpdateOne) SetCreatedBy(v uint32) *OrgUnitUpdateOne {
	_u.mutation.ResetCreatedBy()
	_u.mutation.SetCreatedBy(v)
	return _u
}

// SetNillableCreatedBy sets the "created_by" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableCreatedBy(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetCreatedBy(*v)
	}
	return _u
}

// AddCreatedBy adds value to the "created_by" field.
func (_u *OrgUnitUpdateOne) AddCreatedBy(v int32) *OrgUnitUpdateOne {
	_u.mutation.AddCreatedBy(v)
	return _u
}

// ClearCreatedBy clears the value of the "created_by" field.
func (_u *OrgUnitUpdateOne) ClearCreatedBy() *OrgUnitUpdateOne {
	_u.mutation.ClearCreatedBy()
	return _u
}

// SetUpdatedBy sets the "updated_by" field.
func (_u *OrgUnitUpdateOne) SetUpdatedBy(v uint32) *OrgUnitUpdateOne {
	_u.mutation.ResetUpdatedBy()
	_u.mutation.SetUpdatedBy(v)
	return _u
}

// SetNillableUpdatedBy sets the "updated_by" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableUpdatedBy(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetUpdatedBy(*v)
	}
	return _u
}

// AddUpdatedBy adds value to the "updated_by" field.
func (_u *OrgUnitUpdateOne) AddUpdatedBy(v int32) *OrgUnitUpdateOne {
	_u.mutation.AddUpdatedBy(v)
	return _u
}

// ClearUpdatedBy clears the value of the "updated_by" field.
func (_u *OrgUnitUpdateOne) ClearUpdatedBy() *OrgUnitUpdateOne {
	_u.mutation.ClearUpdatedBy()
	return _u
}

// SetDeletedBy sets the "deleted_by" field.
func (_u *OrgUnitUpdateOne) SetDeletedBy(v uint32) *OrgUnitUpdateOne {
	_u.mutation.ResetDeletedBy()
	_u.mutation.SetDeletedBy(v)
	return _u
}

// SetNillableDeletedBy sets the "deleted_by" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableDeletedBy(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetDeletedBy(*v)
	}
	return _u
}

// AddDeletedBy adds value to the "deleted_by" field.
func (_u *OrgUnitUpdateOne) AddDeletedBy(v int32) *OrgUnitUpdateOne {
	_u.mutation.AddDeletedBy(v)
	return _u
}

// ClearDeletedBy clears the value of the "deleted_by" field.
func (_u *OrgUnitUpdateOne) ClearDeletedBy() *OrgUnitUpdateOne {
	_u.mutation.ClearDeletedBy()
	return _u
}

// SetStatus sets the "status" field.
func (_u *OrgUnitUpdateOne) SetStatus(v orgunit.Status) *OrgUnitUpdateOne {
	_u.mutation.SetStatus(v)
	return _u
}

// SetNillableStatus sets the "status" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableStatus(v *orgunit.Status) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetStatus(*v)
	}
	return _u
}

// SetSortOrder sets the "sort_order" field.
func (_u *OrgUnitUpdateOne) SetSortOrder(v uint32) *OrgUnitUpdateOne {
	_u.mutation.ResetSortOrder()
	_u.mutation.SetSortOrder(v)
	return _u
}

// SetNillableSortOrder sets the "sort_order" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableSortOrder(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetSortOrder(*v)
	}
	return _u
}

// AddSortOrder adds value to the "sort_order" field.
func (_u *OrgUnitUpdateOne) AddSortOrder(v int32) *OrgUnitUpdateOne {
	_u.mutation.AddSortOrder(v)
	return _u
}

// ClearSortOrder clears the value of the "sort_order" field.
func (_u *OrgUnitUpdateOne) ClearSortOrder() *OrgUnitUpdateOne {
	_u.mutation.ClearSortOrder()
	return _u
}

// SetRemark sets the "remark" field.
func (_u *OrgUnitUpdateOne) SetRemark(v string) *OrgUnitUpdateOne {
	_u.mutation.SetRemark(v)
	return _u
}

// SetNillableRemark sets the "remark" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableRemark(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetRemark(*v)
	}
	return _u
}

// ClearRemark clears the value of the "remark" field.
func (_u *OrgUnitUpdateOne) ClearRemark() *OrgUnitUpdateOne {
	_u.mutation.ClearRemark()
	return _u
}

// SetDescription sets the "description" field.
func (_u *OrgUnitUpdateOne) SetDescription(v string) *OrgUnitUpdateOne {
	_u.mutation.SetDescription(v)
	return _u
}

// SetNillableDescription sets the "description" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableDescription(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetDescription(*v)
	}
	return _u
}

// ClearDescription clears the value of the "description" field.
func (_u *OrgUnitUpdateOne) ClearDescription() *OrgUnitUpdateOne {
	_u.mutation.ClearDescription()
	return _u
}

// SetParentID sets the "parent_id" field.
func (_u *OrgUnitUpdateOne) SetParentID(v uint32) *OrgUnitUpdateOne {
	_u.mutation.SetParentID(v)
	return _u
}

// SetNillableParentID sets the "parent_id" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableParentID(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetParentID(*v)
	}
	return _u
}

// ClearParentID clears the value of the "parent_id" field.
func (_u *OrgUnitUpdateOne) ClearParentID() *OrgUnitUpdateOne {
	_u.mutation.ClearParentID()
	return _u
}

// SetPath sets the "path" field.
func (_u *OrgUnitUpdateOne) SetPath(v string) *OrgUnitUpdateOne {
	_u.mutation.SetPath(v)
	return _u
}

// SetNillablePath sets the "path" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillablePath(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetPath(*v)
	}
	return _u
}

// ClearPath clears the value of the "path" field.
func (_u *OrgUnitUpdateOne) ClearPath() *OrgUnitUpdateOne {
	_u.mutation.ClearPath()
	return _u
}

// SetName sets the "name" field.
func (_u *OrgUnitUpdateOne) SetName(v string) *OrgUnitUpdateOne {
	_u.mutation.SetName(v)
	return _u
}

// SetNillableName sets the "name" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableName(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetName(*v)
	}
	return _u
}

// SetCode sets the "code" field.
func (_u *OrgUnitUpdateOne) SetCode(v string) *OrgUnitUpdateOne {
	_u.mutation.SetCode(v)
	return _u
}

// SetNillableCode sets the "code" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableCode(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetCode(*v)
	}
	return _u
}

// ClearCode clears the value of the "code" field.
func (_u *OrgUnitUpdateOne) ClearCode() *OrgUnitUpdateOne {
	_u.mutation.ClearCode()
	return _u
}

// SetLeaderID sets the "leader_id" field.
func (_u *OrgUnitUpdateOne) SetLeaderID(v uint32) *OrgUnitUpdateOne {
	_u.mutation.ResetLeaderID()
	_u.mutation.SetLeaderID(v)
	return _u
}

// SetNillableLeaderID sets the "leader_id" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableLeaderID(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetLeaderID(*v)
	}
	return _u
}

// AddLeaderID adds value to the "leader_id" field.
func (_u *OrgUnitUpdateOne) AddLeaderID(v int32) *OrgUnitUpdateOne {
	_u.mutation.AddLeaderID(v)
	return _u
}

// ClearLeaderID clears the value of the "leader_id" field.
func (_u *OrgUnitUpdateOne) ClearLeaderID() *OrgUnitUpdateOne {
	_u.mutation.ClearLeaderID()
	return _u
}

// SetType sets the "type" field.
func (_u *OrgUnitUpdateOne) SetType(v orgunit.Type) *OrgUnitUpdateOne {
	_u.mutation.SetType(v)
	return _u
}

// SetNillableType sets the "type" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableType(v *orgunit.Type) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetType(*v)
	}
	return _u
}

// SetBusinessScopes sets the "business_scopes" field.
func (_u *OrgUnitUpdateOne) SetBusinessScopes(v []string) *OrgUnitUpdateOne {
	_u.mutation.SetBusinessScopes(v)
	return _u
}

// AppendBusinessScopes appends value to the "business_scopes" field.
func (_u *OrgUnitUpdateOne) AppendBusinessScopes(v []string) *OrgUnitUpdateOne {
	_u.mutation.AppendBusinessScopes(v)
	return _u
}

// ClearBusinessScopes clears the value of the "business_scopes" field.
func (_u *OrgUnitUpdateOne) ClearBusinessScopes() *OrgUnitUpdateOne {
	_u.mutation.ClearBusinessScopes()
	return _u
}

// SetExternalID sets the "external_id" field.
func (_u *OrgUnitUpdateOne) SetExternalID(v string) *OrgUnitUpdateOne {
	_u.mutation.SetExternalID(v)
	return _u
}

// SetNillableExternalID sets the "external_id" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableExternalID(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetExternalID(*v)
	}
	return _u
}

// ClearExternalID clears the value of the "external_id" field.
func (_u *OrgUnitUpdateOne) ClearExternalID() *OrgUnitUpdateOne {
	_u.mutation.ClearExternalID()
	return _u
}

// SetIsLegalEntity sets the "is_legal_entity" field.
func (_u *OrgUnitUpdateOne) SetIsLegalEntity(v bool) *OrgUnitUpdateOne {
	_u.mutation.SetIsLegalEntity(v)
	return _u
}

// SetNillableIsLegalEntity sets the "is_legal_entity" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableIsLegalEntity(v *bool) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetIsLegalEntity(*v)
	}
	return _u
}

// ClearIsLegalEntity clears the value of the "is_legal_entity" field.
func (_u *OrgUnitUpdateOne) ClearIsLegalEntity() *OrgUnitUpdateOne {
	_u.mutation.ClearIsLegalEntity()
	return _u
}

// SetRegistrationNumber sets the "registration_number" field.
func (_u *OrgUnitUpdateOne) SetRegistrationNumber(v string) *OrgUnitUpdateOne {
	_u.mutation.SetRegistrationNumber(v)
	return _u
}

// SetNillableRegistrationNumber sets the "registration_number" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableRegistrationNumber(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetRegistrationNumber(*v)
	}
	return _u
}

// ClearRegistrationNumber clears the value of the "registration_number" field.
func (_u *OrgUnitUpdateOne) ClearRegistrationNumber() *OrgUnitUpdateOne {
	_u.mutation.ClearRegistrationNumber()
	return _u
}

// SetTaxID sets the "tax_id" field.
func (_u *OrgUnitUpdateOne) SetTaxID(v string) *OrgUnitUpdateOne {
	_u.mutation.SetTaxID(v)
	return _u
}

// SetNillableTaxID sets the "tax_id" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableTaxID(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetTaxID(*v)
	}
	return _u
}

// ClearTaxID clears the value of the "tax_id" field.
func (_u *OrgUnitUpdateOne) ClearTaxID() *OrgUnitUpdateOne {
	_u.mutation.ClearTaxID()
	return _u
}

// SetLegalEntityOrgID sets the "legal_entity_org_id" field.
func (_u *OrgUnitUpdateOne) SetLegalEntityOrgID(v uint32) *OrgUnitUpdateOne {
	_u.mutation.ResetLegalEntityOrgID()
	_u.mutation.SetLegalEntityOrgID(v)
	return _u
}

// SetNillableLegalEntityOrgID sets the "legal_entity_org_id" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableLegalEntityOrgID(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetLegalEntityOrgID(*v)
	}
	return _u
}

// AddLegalEntityOrgID adds value to the "legal_entity_org_id" field.
func (_u *OrgUnitUpdateOne) AddLegalEntityOrgID(v int32) *OrgUnitUpdateOne {
	_u.mutation.AddLegalEntityOrgID(v)
	return _u
}

// ClearLegalEntityOrgID clears the value of the "legal_entity_org_id" field.
func (_u *OrgUnitUpdateOne) ClearLegalEntityOrgID() *OrgUnitUpdateOne {
	_u.mutation.ClearLegalEntityOrgID()
	return _u
}

// SetAddress sets the "address" field.
func (_u *OrgUnitUpdateOne) SetAddress(v string) *OrgUnitUpdateOne {
	_u.mutation.SetAddress(v)
	return _u
}

// SetNillableAddress sets the "address" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableAddress(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetAddress(*v)
	}
	return _u
}

// ClearAddress clears the value of the "address" field.
func (_u *OrgUnitUpdateOne) ClearAddress() *OrgUnitUpdateOne {
	_u.mutation.ClearAddress()
	return _u
}

// SetPhone sets the "phone" field.
func (_u *OrgUnitUpdateOne) SetPhone(v string) *OrgUnitUpdateOne {
	_u.mutation.SetPhone(v)
	return _u
}

// SetNillablePhone sets the "phone" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillablePhone(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetPhone(*v)
	}
	return _u
}

// ClearPhone clears the value of the "phone" field.
func (_u *OrgUnitUpdateOne) ClearPhone() *OrgUnitUpdateOne {
	_u.mutation.ClearPhone()
	return _u
}

// SetEmail sets the "email" field.
func (_u *OrgUnitUpdateOne) SetEmail(v string) *OrgUnitUpdateOne {
	_u.mutation.SetEmail(v)
	return _u
}

// SetNillableEmail sets the "email" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableEmail(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetEmail(*v)
	}
	return _u
}

// ClearEmail clears the value of the "email" field.
func (_u *OrgUnitUpdateOne) ClearEmail() *OrgUnitUpdateOne {
	_u.mutation.ClearEmail()
	return _u
}

// SetTimezone sets the "timezone" field.
func (_u *OrgUnitUpdateOne) SetTimezone(v string) *OrgUnitUpdateOne {
	_u.mutation.SetTimezone(v)
	return _u
}

// SetNillableTimezone sets the "timezone" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableTimezone(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetTimezone(*v)
	}
	return _u
}

// ClearTimezone clears the value of the "timezone" field.
func (_u *OrgUnitUpdateOne) ClearTimezone() *OrgUnitUpdateOne {
	_u.mutation.ClearTimezone()
	return _u
}

// SetCountry sets the "country" field.
func (_u *OrgUnitUpdateOne) SetCountry(v string) *OrgUnitUpdateOne {
	_u.mutation.SetCountry(v)
	return _u
}

// SetNillableCountry sets the "country" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableCountry(v *string) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetCountry(*v)
	}
	return _u
}

// ClearCountry clears the value of the "country" field.
func (_u *OrgUnitUpdateOne) ClearCountry() *OrgUnitUpdateOne {
	_u.mutation.ClearCountry()
	return _u
}

// SetLatitude sets the "latitude" field.
func (_u *OrgUnitUpdateOne) SetLatitude(v float64) *OrgUnitUpdateOne {
	_u.mutation.ResetLatitude()
	_u.mutation.SetLatitude(v)
	return _u
}

// SetNillableLatitude sets the "latitude" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableLatitude(v *float64) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetLatitude(*v)
	}
	return _u
}

// AddLatitude adds value to the "latitude" field.
func (_u *OrgUnitUpdateOne) AddLatitude(v float64) *OrgUnitUpdateOne {
	_u.mutation.AddLatitude(v)
	return _u
}

// ClearLatitude clears the value of the "latitude" field.
func (_u *OrgUnitUpdateOne) ClearLatitude() *OrgUnitUpdateOne {
	_u.mutation.ClearLatitude()
	return _u
}

// SetLongitude sets the "longitude" field.
func (_u *OrgUnitUpdateOne) SetLongitude(v float64) *OrgUnitUpdateOne {
	_u.mutation.ResetLongitude()
	_u.mutation.SetLongitude(v)
	return _u
}

// SetNillableLongitude sets the "longitude" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableLongitude(v *float64) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetLongitude(*v)
	}
	return _u
}

// AddLongitude adds value to the "longitude" field.
func (_u *OrgUnitUpdateOne) AddLongitude(v float64) *OrgUnitUpdateOne {
	_u.mutation.AddLongitude(v)
	return _u
}

// ClearLongitude clears the value of the "longitude" field.
func (_u *OrgUnitUpdateOne) ClearLongitude() *OrgUnitUpdateOne {
	_u.mutation.ClearLongitude()
	return _u
}

// SetStartAt sets the "start_at" field.
func (_u *OrgUnitUpdateOne) SetStartAt(v time.Time) *OrgUnitUpdateOne {
	_u.mutation.SetStartAt(v)
	return _u
}

// SetNillableStartAt sets the "start_at" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableStartAt(v *time.Time) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetStartAt(*v)
	}
	return _u
}

// ClearStartAt clears the value of the "start_at" field.
func (_u *OrgUnitUpdateOne) ClearStartAt() *OrgUnitUpdateOne {
	_u.mutation.ClearStartAt()
	return _u
}

// SetEndAt sets the "end_at" field.
func (_u *OrgUnitUpdateOne) SetEndAt(v time.Time) *OrgUnitUpdateOne {
	_u.mutation.SetEndAt(v)
	return _u
}

// SetNillableEndAt sets the "end_at" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableEndAt(v *time.Time) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetEndAt(*v)
	}
	return _u
}

// ClearEndAt clears the value of the "end_at" field.
func (_u *OrgUnitUpdateOne) ClearEndAt() *OrgUnitUpdateOne {
	_u.mutation.ClearEndAt()
	return _u
}

// SetContactUserID sets the "contact_user_id" field.
func (_u *OrgUnitUpdateOne) SetContactUserID(v uint32) *OrgUnitUpdateOne {
	_u.mutation.ResetContactUserID()
	_u.mutation.SetContactUserID(v)
	return _u
}

// SetNillableContactUserID sets the "contact_user_id" field if the given value is not nil.
func (_u *OrgUnitUpdateOne) SetNillableContactUserID(v *uint32) *OrgUnitUpdateOne {
	if v != nil {
		_u.SetContactUserID(*v)
	}
	return _u
}

// AddContactUserID adds value to the "contact_user_id" field.
func (_u *OrgUnitUpdateOne) AddContactUserID(v int32) *OrgUnitUpdateOne {
	_u.mutation.AddContactUserID(v)
	return _u
}

// ClearContactUserID clears the value of the "contact_user_id" field.
func (_u *OrgUnitUpdateOne) ClearContactUserID() *OrgUnitUpdateOne {
	_u.mutation.ClearContactUserID()
	return _u
}

// SetPermissionTags sets the "permission_tags" field.
func (_u *OrgUnitUpdateOne) SetPermissionTags(v []string) *OrgUnitUpdateOne {
	_u.mutation.SetPermissionTags(v)
	return _u
}

// AppendPermissionTags appends value to the "permission_tags" field.
func (_u *OrgUnitUpdateOne) AppendPermissionTags(v []string) *OrgUnitUpdateOne {
	_u.mutation.AppendPermissionTags(v)
	return _u
}

// ClearPermissionTags clears the value of the "permission_tags" field.
func (_u *OrgUnitUpdateOne) ClearPermissionTags() *OrgUnitUpdateOne {
	_u.mutation.ClearPermissionTags()
	return _u
}

// SetParent sets the "parent" edge to the OrgUnit entity.
func (_u *OrgUnitUpdateOne) SetParent(v *OrgUnit) *OrgUnitUpdateOne {
	return _u.SetParentID(v.ID)
}

// AddChildIDs adds the "children" edge to the OrgUnit entity by IDs.
func (_u *OrgUnitUpdateOne) AddChildIDs(ids ...uint32) *OrgUnitUpdateOne {
	_u.mutation.AddChildIDs(ids...)
	return _u
}

// AddChildren adds the "children" edges to the OrgUnit entity.
func (_u *OrgUnitUpdateOne) AddChildren(v ...*OrgUnit) *OrgUnitUpdateOne {
	ids := make([]uint32, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.AddChildIDs(ids...)
}

// Mutation returns the OrgUnitMutation object of the builder.
func (_u *OrgUnitUpdateOne) Mutation() *OrgUnitMutation {
	return _u.mutation
}

// ClearParent clears the "parent" edge to the OrgUnit entity.
func (_u *OrgUnitUpdateOne) ClearParent() *OrgUnitUpdateOne {
	_u.mutation.ClearParent()
	return _u
}

// ClearChildren clears all "children" edges to the OrgUnit entity.
func (_u *OrgUnitUpdateOne) ClearChildren() *OrgUnitUpdateOne {
	_u.mutation.ClearChildren()
	return _u
}

// RemoveChildIDs removes the "children" edge to OrgUnit entities by IDs.
func (_u *OrgUnitUpdateOne) RemoveChildIDs(ids ...uint32) *OrgUnitUpdateOne {
	_u.mutation.RemoveChildIDs(ids...)
	return _u
}

// RemoveChildren removes "children" edges to OrgUnit entities.
func (_u *OrgUnitUpdateOne) RemoveChildren(v ...*OrgUnit) *OrgUnitUpdateOne {
	ids := make([]uint32, len(v))
	for i := range v {
		ids[i] = v[i].ID
	}
	return _u.RemoveChildIDs(ids...)
}

// Where appends a list predicates to the OrgUnitUpdate builder.
func (_u *OrgUnitUpdateOne) Where(ps ...predicate.OrgUnit) *OrgUnitUpdateOne {
	_u.mutation.Where(ps...)
	return _u
}

// Select allows selecting one or more fields (columns) of the returned entity.
// The default is selecting all fields defined in the entity schema.
func (_u *OrgUnitUpdateOne) Select(field string, fields ...string) *OrgUnitUpdateOne {
	_u.fields = append([]string{field}, fields...)
	return _u
}

// Save executes the query and returns the updated OrgUnit entity.
func (_u *OrgUnitUpdateOne) Save(ctx context.Context) (*OrgUnit, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *OrgUnitUpdateOne) SaveX(ctx context.Context) *OrgUnit {
	node, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return node
}

// Exec executes the query on the entity.
func (_u *OrgUnitUpdateOne) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *OrgUnitUpdateOne) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *OrgUnitUpdateOne) check() error {
	if v, ok := _u.mutation.Status(); ok {
		if err := orgunit.StatusValidator(v); err != nil {
			return &ValidationError{Name: "status", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.status": %w`, err)}
		}
	}
	if v, ok := _u.mutation.Path(); ok {
		if err := orgunit.PathValidator(v); err != nil {
			return &ValidationError{Name: "path", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.path": %w`, err)}
		}
	}
	if v, ok := _u.mutation.Name(); ok {
		if err := orgunit.NameValidator(v); err != nil {
			return &ValidationError{Name: "name", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.name": %w`, err)}
		}
	}
	if v, ok := _u.mutation.GetType(); ok {
		if err := orgunit.TypeValidator(v); err != nil {
			return &ValidationError{Name: "type", err: fmt.Errorf(`ent: validator failed for field "OrgUnit.type": %w`, err)}
		}
	}
	return nil
}

// Modify adds a statement modifier for attaching custom logic to the UPDATE statement.
func (_u *OrgUnitUpdateOne) Modify(modifiers ...func(u *sql.UpdateBuilder)) *OrgUnitUpdateOne {
	_u.modifiers = append(_u.modifiers, modifiers...)
	return _u
}

func (_u *OrgUnitUpdateOne) sqlSave(ctx context.Context) (_node *OrgUnit, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(orgunit.Table, orgunit.Columns, sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32))
	id, ok := _u.mutation.ID()
	if !ok {
		return nil, &ValidationError{Name: "id", err: errors.New(`ent: missing "OrgUnit.id" for update`)}
	}
	_spec.Node.ID.Value = id
	if fields := _u.fields; len(fields) > 0 {
		_spec.Node.Columns = make([]string, 0, len(fields))
		_spec.Node.Columns = append(_spec.Node.Columns, orgunit.FieldID)
		for _, f := range fields {
			if !orgunit.ValidColumn(f) {
				return nil, &ValidationError{Name: f, err: fmt.Errorf("ent: invalid field %q for query", f)}
			}
			if f != orgunit.FieldID {
				_spec.Node.Columns = append(_spec.Node.Columns, f)
			}
		}
	}
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if _u.mutation.CreatedAtCleared() {
		_spec.ClearField(orgunit.FieldCreatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(orgunit.FieldUpdatedAt, field.TypeTime, value)
	}
	if _u.mutation.UpdatedAtCleared() {
		_spec.ClearField(orgunit.FieldUpdatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.DeletedAt(); ok {
		_spec.SetField(orgunit.FieldDeletedAt, field.TypeTime, value)
	}
	if _u.mutation.DeletedAtCleared() {
		_spec.ClearField(orgunit.FieldDeletedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.CreatedBy(); ok {
		_spec.SetField(orgunit.FieldCreatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedCreatedBy(); ok {
		_spec.AddField(orgunit.FieldCreatedBy, field.TypeUint32, value)
	}
	if _u.mutation.CreatedByCleared() {
		_spec.ClearField(orgunit.FieldCreatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.UpdatedBy(); ok {
		_spec.SetField(orgunit.FieldUpdatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedUpdatedBy(); ok {
		_spec.AddField(orgunit.FieldUpdatedBy, field.TypeUint32, value)
	}
	if _u.mutation.UpdatedByCleared() {
		_spec.ClearField(orgunit.FieldUpdatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.DeletedBy(); ok {
		_spec.SetField(orgunit.FieldDeletedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedDeletedBy(); ok {
		_spec.AddField(orgunit.FieldDeletedBy, field.TypeUint32, value)
	}
	if _u.mutation.DeletedByCleared() {
		_spec.ClearField(orgunit.FieldDeletedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.Status(); ok {
		_spec.SetField(orgunit.FieldStatus, field.TypeEnum, value)
	}
	if value, ok := _u.mutation.SortOrder(); ok {
		_spec.SetField(orgunit.FieldSortOrder, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedSortOrder(); ok {
		_spec.AddField(orgunit.FieldSortOrder, field.TypeUint32, value)
	}
	if _u.mutation.SortOrderCleared() {
		_spec.ClearField(orgunit.FieldSortOrder, field.TypeUint32)
	}
	if _u.mutation.TenantIDCleared() {
		_spec.ClearField(orgunit.FieldTenantID, field.TypeUint32)
	}
	if value, ok := _u.mutation.Remark(); ok {
		_spec.SetField(orgunit.FieldRemark, field.TypeString, value)
	}
	if _u.mutation.RemarkCleared() {
		_spec.ClearField(orgunit.FieldRemark, field.TypeString)
	}
	if value, ok := _u.mutation.Description(); ok {
		_spec.SetField(orgunit.FieldDescription, field.TypeString, value)
	}
	if _u.mutation.DescriptionCleared() {
		_spec.ClearField(orgunit.FieldDescription, field.TypeString)
	}
	if value, ok := _u.mutation.Path(); ok {
		_spec.SetField(orgunit.FieldPath, field.TypeString, value)
	}
	if _u.mutation.PathCleared() {
		_spec.ClearField(orgunit.FieldPath, field.TypeString)
	}
	if value, ok := _u.mutation.Name(); ok {
		_spec.SetField(orgunit.FieldName, field.TypeString, value)
	}
	if value, ok := _u.mutation.Code(); ok {
		_spec.SetField(orgunit.FieldCode, field.TypeString, value)
	}
	if _u.mutation.CodeCleared() {
		_spec.ClearField(orgunit.FieldCode, field.TypeString)
	}
	if value, ok := _u.mutation.LeaderID(); ok {
		_spec.SetField(orgunit.FieldLeaderID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedLeaderID(); ok {
		_spec.AddField(orgunit.FieldLeaderID, field.TypeUint32, value)
	}
	if _u.mutation.LeaderIDCleared() {
		_spec.ClearField(orgunit.FieldLeaderID, field.TypeUint32)
	}
	if value, ok := _u.mutation.GetType(); ok {
		_spec.SetField(orgunit.FieldType, field.TypeEnum, value)
	}
	if value, ok := _u.mutation.BusinessScopes(); ok {
		_spec.SetField(orgunit.FieldBusinessScopes, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedBusinessScopes(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, orgunit.FieldBusinessScopes, value)
		})
	}
	if _u.mutation.BusinessScopesCleared() {
		_spec.ClearField(orgunit.FieldBusinessScopes, field.TypeJSON)
	}
	if value, ok := _u.mutation.ExternalID(); ok {
		_spec.SetField(orgunit.FieldExternalID, field.TypeString, value)
	}
	if _u.mutation.ExternalIDCleared() {
		_spec.ClearField(orgunit.FieldExternalID, field.TypeString)
	}
	if value, ok := _u.mutation.IsLegalEntity(); ok {
		_spec.SetField(orgunit.FieldIsLegalEntity, field.TypeBool, value)
	}
	if _u.mutation.IsLegalEntityCleared() {
		_spec.ClearField(orgunit.FieldIsLegalEntity, field.TypeBool)
	}
	if value, ok := _u.mutation.RegistrationNumber(); ok {
		_spec.SetField(orgunit.FieldRegistrationNumber, field.TypeString, value)
	}
	if _u.mutation.RegistrationNumberCleared() {
		_spec.ClearField(orgunit.FieldRegistrationNumber, field.TypeString)
	}
	if value, ok := _u.mutation.TaxID(); ok {
		_spec.SetField(orgunit.FieldTaxID, field.TypeString, value)
	}
	if _u.mutation.TaxIDCleared() {
		_spec.ClearField(orgunit.FieldTaxID, field.TypeString)
	}
	if value, ok := _u.mutation.LegalEntityOrgID(); ok {
		_spec.SetField(orgunit.FieldLegalEntityOrgID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedLegalEntityOrgID(); ok {
		_spec.AddField(orgunit.FieldLegalEntityOrgID, field.TypeUint32, value)
	}
	if _u.mutation.LegalEntityOrgIDCleared() {
		_spec.ClearField(orgunit.FieldLegalEntityOrgID, field.TypeUint32)
	}
	if value, ok := _u.mutation.Address(); ok {
		_spec.SetField(orgunit.FieldAddress, field.TypeString, value)
	}
	if _u.mutation.AddressCleared() {
		_spec.ClearField(orgunit.FieldAddress, field.TypeString)
	}
	if value, ok := _u.mutation.Phone(); ok {
		_spec.SetField(orgunit.FieldPhone, field.TypeString, value)
	}
	if _u.mutation.PhoneCleared() {
		_spec.ClearField(orgunit.FieldPhone, field.TypeString)
	}
	if value, ok := _u.mutation.Email(); ok {
		_spec.SetField(orgunit.FieldEmail, field.TypeString, value)
	}
	if _u.mutation.EmailCleared() {
		_spec.ClearField(orgunit.FieldEmail, field.TypeString)
	}
	if value, ok := _u.mutation.Timezone(); ok {
		_spec.SetField(orgunit.FieldTimezone, field.TypeString, value)
	}
	if _u.mutation.TimezoneCleared() {
		_spec.ClearField(orgunit.FieldTimezone, field.TypeString)
	}
	if value, ok := _u.mutation.Country(); ok {
		_spec.SetField(orgunit.FieldCountry, field.TypeString, value)
	}
	if _u.mutation.CountryCleared() {
		_spec.ClearField(orgunit.FieldCountry, field.TypeString)
	}
	if value, ok := _u.mutation.Latitude(); ok {
		_spec.SetField(orgunit.FieldLatitude, field.TypeFloat64, value)
	}
	if value, ok := _u.mutation.AddedLatitude(); ok {
		_spec.AddField(orgunit.FieldLatitude, field.TypeFloat64, value)
	}
	if _u.mutation.LatitudeCleared() {
		_spec.ClearField(orgunit.FieldLatitude, field.TypeFloat64)
	}
	if value, ok := _u.mutation.Longitude(); ok {
		_spec.SetField(orgunit.FieldLongitude, field.TypeFloat64, value)
	}
	if value, ok := _u.mutation.AddedLongitude(); ok {
		_spec.AddField(orgunit.FieldLongitude, field.TypeFloat64, value)
	}
	if _u.mutation.LongitudeCleared() {
		_spec.ClearField(orgunit.FieldLongitude, field.TypeFloat64)
	}
	if value, ok := _u.mutation.StartAt(); ok {
		_spec.SetField(orgunit.FieldStartAt, field.TypeTime, value)
	}
	if _u.mutation.StartAtCleared() {
		_spec.ClearField(orgunit.FieldStartAt, field.TypeTime)
	}
	if value, ok := _u.mutation.EndAt(); ok {
		_spec.SetField(orgunit.FieldEndAt, field.TypeTime, value)
	}
	if _u.mutation.EndAtCleared() {
		_spec.ClearField(orgunit.FieldEndAt, field.TypeTime)
	}
	if value, ok := _u.mutation.ContactUserID(); ok {
		_spec.SetField(orgunit.FieldContactUserID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedContactUserID(); ok {
		_spec.AddField(orgunit.FieldContactUserID, field.TypeUint32, value)
	}
	if _u.mutation.ContactUserIDCleared() {
		_spec.ClearField(orgunit.FieldContactUserID, field.TypeUint32)
	}
	if value, ok := _u.mutation.PermissionTags(); ok {
		_spec.SetField(orgunit.FieldPermissionTags, field.TypeJSON, value)
	}
	if value, ok := _u.mutation.AppendedPermissionTags(); ok {
		_spec.AddModifier(func(u *sql.UpdateBuilder) {
			sqljson.Append(u, orgunit.FieldPermissionTags, value)
		})
	}
	if _u.mutation.PermissionTagsCleared() {
		_spec.ClearField(orgunit.FieldPermissionTags, field.TypeJSON)
	}
	if _u.mutation.ParentCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   orgunit.ParentTable,
			Columns: []string{orgunit.ParentColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ParentIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.M2O,
			Inverse: true,
			Table:   orgunit.ParentTable,
			Columns: []string{orgunit.ParentColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	if _u.mutation.ChildrenCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   orgunit.ChildrenTable,
			Columns: []string{orgunit.ChildrenColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.RemovedChildrenIDs(); len(nodes) > 0 && !_u.mutation.ChildrenCleared() {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   orgunit.ChildrenTable,
			Columns: []string{orgunit.ChildrenColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Clear = append(_spec.Edges.Clear, edge)
	}
	if nodes := _u.mutation.ChildrenIDs(); len(nodes) > 0 {
		edge := &sqlgraph.EdgeSpec{
			Rel:     sqlgraph.O2M,
			Inverse: false,
			Table:   orgunit.ChildrenTable,
			Columns: []string{orgunit.ChildrenColumn},
			Bidi:    false,
			Target: &sqlgraph.EdgeTarget{
				IDSpec: sqlgraph.NewFieldSpec(orgunit.FieldID, field.TypeUint32),
			},
		}
		for _, k := range nodes {
			edge.Target.Nodes = append(edge.Target.Nodes, k)
		}
		_spec.Edges.Add = append(_spec.Edges.Add, edge)
	}
	_spec.AddModifiers(_u.modifiers...)
	_node = &OrgUnit{config: _u.config}
	_spec.Assign = _node.assignValues
	_spec.ScanValues = _node.scanValues
	if err = sqlgraph.UpdateNode(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{orgunit.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	_u.mutation.done = true
	return _node, nil
}
