// Code generated by ent, DO NOT EDIT.

package ent

import (
	"context"
	"errors"
	"fmt"
	"go-wind-cms/app/core/service/internal/data/ent/mediaasset"
	"go-wind-cms/app/core/service/internal/data/ent/predicate"
	"time"

	"entgo.io/ent/dialect/sql"
	"entgo.io/ent/dialect/sql/sqlgraph"
	"entgo.io/ent/schema/field"
)

// MediaAssetUpdate is the builder for updating MediaAsset entities.
type MediaAssetUpdate struct {
	config
	hooks     []Hook
	mutation  *MediaAssetMutation
	modifiers []func(*sql.UpdateBuilder)
}

// Where appends a list predicates to the MediaAssetUpdate builder.
func (_u *MediaAssetUpdate) Where(ps ...predicate.MediaAsset) *MediaAssetUpdate {
	_u.mutation.Where(ps...)
	return _u
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *MediaAssetUpdate) SetUpdatedAt(v time.Time) *MediaAssetUpdate {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// SetNillableUpdatedAt sets the "updated_at" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableUpdatedAt(v *time.Time) *MediaAssetUpdate {
	if v != nil {
		_u.SetUpdatedAt(*v)
	}
	return _u
}

// ClearUpdatedAt clears the value of the "updated_at" field.
func (_u *MediaAssetUpdate) ClearUpdatedAt() *MediaAssetUpdate {
	_u.mutation.ClearUpdatedAt()
	return _u
}

// SetDeletedAt sets the "deleted_at" field.
func (_u *MediaAssetUpdate) SetDeletedAt(v time.Time) *MediaAssetUpdate {
	_u.mutation.SetDeletedAt(v)
	return _u
}

// SetNillableDeletedAt sets the "deleted_at" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableDeletedAt(v *time.Time) *MediaAssetUpdate {
	if v != nil {
		_u.SetDeletedAt(*v)
	}
	return _u
}

// ClearDeletedAt clears the value of the "deleted_at" field.
func (_u *MediaAssetUpdate) ClearDeletedAt() *MediaAssetUpdate {
	_u.mutation.ClearDeletedAt()
	return _u
}

// SetCreatedBy sets the "created_by" field.
func (_u *MediaAssetUpdate) SetCreatedBy(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetCreatedBy()
	_u.mutation.SetCreatedBy(v)
	return _u
}

// SetNillableCreatedBy sets the "created_by" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableCreatedBy(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetCreatedBy(*v)
	}
	return _u
}

// AddCreatedBy adds value to the "created_by" field.
func (_u *MediaAssetUpdate) AddCreatedBy(v int32) *MediaAssetUpdate {
	_u.mutation.AddCreatedBy(v)
	return _u
}

// ClearCreatedBy clears the value of the "created_by" field.
func (_u *MediaAssetUpdate) ClearCreatedBy() *MediaAssetUpdate {
	_u.mutation.ClearCreatedBy()
	return _u
}

// SetUpdatedBy sets the "updated_by" field.
func (_u *MediaAssetUpdate) SetUpdatedBy(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetUpdatedBy()
	_u.mutation.SetUpdatedBy(v)
	return _u
}

// SetNillableUpdatedBy sets the "updated_by" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableUpdatedBy(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetUpdatedBy(*v)
	}
	return _u
}

// AddUpdatedBy adds value to the "updated_by" field.
func (_u *MediaAssetUpdate) AddUpdatedBy(v int32) *MediaAssetUpdate {
	_u.mutation.AddUpdatedBy(v)
	return _u
}

// ClearUpdatedBy clears the value of the "updated_by" field.
func (_u *MediaAssetUpdate) ClearUpdatedBy() *MediaAssetUpdate {
	_u.mutation.ClearUpdatedBy()
	return _u
}

// SetDeletedBy sets the "deleted_by" field.
func (_u *MediaAssetUpdate) SetDeletedBy(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetDeletedBy()
	_u.mutation.SetDeletedBy(v)
	return _u
}

// SetNillableDeletedBy sets the "deleted_by" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableDeletedBy(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetDeletedBy(*v)
	}
	return _u
}

// AddDeletedBy adds value to the "deleted_by" field.
func (_u *MediaAssetUpdate) AddDeletedBy(v int32) *MediaAssetUpdate {
	_u.mutation.AddDeletedBy(v)
	return _u
}

// ClearDeletedBy clears the value of the "deleted_by" field.
func (_u *MediaAssetUpdate) ClearDeletedBy() *MediaAssetUpdate {
	_u.mutation.ClearDeletedBy()
	return _u
}

// SetFilename sets the "filename" field.
func (_u *MediaAssetUpdate) SetFilename(v string) *MediaAssetUpdate {
	_u.mutation.SetFilename(v)
	return _u
}

// SetNillableFilename sets the "filename" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableFilename(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetFilename(*v)
	}
	return _u
}

// ClearFilename clears the value of the "filename" field.
func (_u *MediaAssetUpdate) ClearFilename() *MediaAssetUpdate {
	_u.mutation.ClearFilename()
	return _u
}

// SetType sets the "type" field.
func (_u *MediaAssetUpdate) SetType(v mediaasset.Type) *MediaAssetUpdate {
	_u.mutation.SetType(v)
	return _u
}

// SetNillableType sets the "type" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableType(v *mediaasset.Type) *MediaAssetUpdate {
	if v != nil {
		_u.SetType(*v)
	}
	return _u
}

// ClearType clears the value of the "type" field.
func (_u *MediaAssetUpdate) ClearType() *MediaAssetUpdate {
	_u.mutation.ClearType()
	return _u
}

// SetMimeType sets the "mime_type" field.
func (_u *MediaAssetUpdate) SetMimeType(v string) *MediaAssetUpdate {
	_u.mutation.SetMimeType(v)
	return _u
}

// SetNillableMimeType sets the "mime_type" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableMimeType(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetMimeType(*v)
	}
	return _u
}

// ClearMimeType clears the value of the "mime_type" field.
func (_u *MediaAssetUpdate) ClearMimeType() *MediaAssetUpdate {
	_u.mutation.ClearMimeType()
	return _u
}

// SetSize sets the "size" field.
func (_u *MediaAssetUpdate) SetSize(v uint64) *MediaAssetUpdate {
	_u.mutation.ResetSize()
	_u.mutation.SetSize(v)
	return _u
}

// SetNillableSize sets the "size" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableSize(v *uint64) *MediaAssetUpdate {
	if v != nil {
		_u.SetSize(*v)
	}
	return _u
}

// AddSize adds value to the "size" field.
func (_u *MediaAssetUpdate) AddSize(v int64) *MediaAssetUpdate {
	_u.mutation.AddSize(v)
	return _u
}

// ClearSize clears the value of the "size" field.
func (_u *MediaAssetUpdate) ClearSize() *MediaAssetUpdate {
	_u.mutation.ClearSize()
	return _u
}

// SetStoragePath sets the "storage_path" field.
func (_u *MediaAssetUpdate) SetStoragePath(v string) *MediaAssetUpdate {
	_u.mutation.SetStoragePath(v)
	return _u
}

// SetNillableStoragePath sets the "storage_path" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableStoragePath(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetStoragePath(*v)
	}
	return _u
}

// ClearStoragePath clears the value of the "storage_path" field.
func (_u *MediaAssetUpdate) ClearStoragePath() *MediaAssetUpdate {
	_u.mutation.ClearStoragePath()
	return _u
}

// SetURL sets the "url" field.
func (_u *MediaAssetUpdate) SetURL(v string) *MediaAssetUpdate {
	_u.mutation.SetURL(v)
	return _u
}

// SetNillableURL sets the "url" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableURL(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetURL(*v)
	}
	return _u
}

// ClearURL clears the value of the "url" field.
func (_u *MediaAssetUpdate) ClearURL() *MediaAssetUpdate {
	_u.mutation.ClearURL()
	return _u
}

// SetWidth sets the "width" field.
func (_u *MediaAssetUpdate) SetWidth(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetWidth()
	_u.mutation.SetWidth(v)
	return _u
}

// SetNillableWidth sets the "width" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableWidth(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetWidth(*v)
	}
	return _u
}

// AddWidth adds value to the "width" field.
func (_u *MediaAssetUpdate) AddWidth(v int32) *MediaAssetUpdate {
	_u.mutation.AddWidth(v)
	return _u
}

// ClearWidth clears the value of the "width" field.
func (_u *MediaAssetUpdate) ClearWidth() *MediaAssetUpdate {
	_u.mutation.ClearWidth()
	return _u
}

// SetHeight sets the "height" field.
func (_u *MediaAssetUpdate) SetHeight(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetHeight()
	_u.mutation.SetHeight(v)
	return _u
}

// SetNillableHeight sets the "height" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableHeight(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetHeight(*v)
	}
	return _u
}

// AddHeight adds value to the "height" field.
func (_u *MediaAssetUpdate) AddHeight(v int32) *MediaAssetUpdate {
	_u.mutation.AddHeight(v)
	return _u
}

// ClearHeight clears the value of the "height" field.
func (_u *MediaAssetUpdate) ClearHeight() *MediaAssetUpdate {
	_u.mutation.ClearHeight()
	return _u
}

// SetDuration sets the "duration" field.
func (_u *MediaAssetUpdate) SetDuration(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetDuration()
	_u.mutation.SetDuration(v)
	return _u
}

// SetNillableDuration sets the "duration" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableDuration(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetDuration(*v)
	}
	return _u
}

// AddDuration adds value to the "duration" field.
func (_u *MediaAssetUpdate) AddDuration(v int32) *MediaAssetUpdate {
	_u.mutation.AddDuration(v)
	return _u
}

// ClearDuration clears the value of the "duration" field.
func (_u *MediaAssetUpdate) ClearDuration() *MediaAssetUpdate {
	_u.mutation.ClearDuration()
	return _u
}

// SetAltText sets the "alt_text" field.
func (_u *MediaAssetUpdate) SetAltText(v string) *MediaAssetUpdate {
	_u.mutation.SetAltText(v)
	return _u
}

// SetNillableAltText sets the "alt_text" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableAltText(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetAltText(*v)
	}
	return _u
}

// ClearAltText clears the value of the "alt_text" field.
func (_u *MediaAssetUpdate) ClearAltText() *MediaAssetUpdate {
	_u.mutation.ClearAltText()
	return _u
}

// SetTitle sets the "title" field.
func (_u *MediaAssetUpdate) SetTitle(v string) *MediaAssetUpdate {
	_u.mutation.SetTitle(v)
	return _u
}

// SetNillableTitle sets the "title" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableTitle(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetTitle(*v)
	}
	return _u
}

// ClearTitle clears the value of the "title" field.
func (_u *MediaAssetUpdate) ClearTitle() *MediaAssetUpdate {
	_u.mutation.ClearTitle()
	return _u
}

// SetCaption sets the "caption" field.
func (_u *MediaAssetUpdate) SetCaption(v string) *MediaAssetUpdate {
	_u.mutation.SetCaption(v)
	return _u
}

// SetNillableCaption sets the "caption" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableCaption(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetCaption(*v)
	}
	return _u
}

// ClearCaption clears the value of the "caption" field.
func (_u *MediaAssetUpdate) ClearCaption() *MediaAssetUpdate {
	_u.mutation.ClearCaption()
	return _u
}

// SetProcessingStatus sets the "processing_status" field.
func (_u *MediaAssetUpdate) SetProcessingStatus(v mediaasset.ProcessingStatus) *MediaAssetUpdate {
	_u.mutation.SetProcessingStatus(v)
	return _u
}

// SetNillableProcessingStatus sets the "processing_status" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableProcessingStatus(v *mediaasset.ProcessingStatus) *MediaAssetUpdate {
	if v != nil {
		_u.SetProcessingStatus(*v)
	}
	return _u
}

// ClearProcessingStatus clears the value of the "processing_status" field.
func (_u *MediaAssetUpdate) ClearProcessingStatus() *MediaAssetUpdate {
	_u.mutation.ClearProcessingStatus()
	return _u
}

// SetProcessingError sets the "processing_error" field.
func (_u *MediaAssetUpdate) SetProcessingError(v string) *MediaAssetUpdate {
	_u.mutation.SetProcessingError(v)
	return _u
}

// SetNillableProcessingError sets the "processing_error" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableProcessingError(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetProcessingError(*v)
	}
	return _u
}

// ClearProcessingError clears the value of the "processing_error" field.
func (_u *MediaAssetUpdate) ClearProcessingError() *MediaAssetUpdate {
	_u.mutation.ClearProcessingError()
	return _u
}

// SetFileHash sets the "file_hash" field.
func (_u *MediaAssetUpdate) SetFileHash(v string) *MediaAssetUpdate {
	_u.mutation.SetFileHash(v)
	return _u
}

// SetNillableFileHash sets the "file_hash" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableFileHash(v *string) *MediaAssetUpdate {
	if v != nil {
		_u.SetFileHash(*v)
	}
	return _u
}

// ClearFileHash clears the value of the "file_hash" field.
func (_u *MediaAssetUpdate) ClearFileHash() *MediaAssetUpdate {
	_u.mutation.ClearFileHash()
	return _u
}

// SetFolderID sets the "folder_id" field.
func (_u *MediaAssetUpdate) SetFolderID(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetFolderID()
	_u.mutation.SetFolderID(v)
	return _u
}

// SetNillableFolderID sets the "folder_id" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableFolderID(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetFolderID(*v)
	}
	return _u
}

// AddFolderID adds value to the "folder_id" field.
func (_u *MediaAssetUpdate) AddFolderID(v int32) *MediaAssetUpdate {
	_u.mutation.AddFolderID(v)
	return _u
}

// ClearFolderID clears the value of the "folder_id" field.
func (_u *MediaAssetUpdate) ClearFolderID() *MediaAssetUpdate {
	_u.mutation.ClearFolderID()
	return _u
}

// SetFileID sets the "file_id" field.
func (_u *MediaAssetUpdate) SetFileID(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetFileID()
	_u.mutation.SetFileID(v)
	return _u
}

// SetNillableFileID sets the "file_id" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableFileID(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetFileID(*v)
	}
	return _u
}

// AddFileID adds value to the "file_id" field.
func (_u *MediaAssetUpdate) AddFileID(v int32) *MediaAssetUpdate {
	_u.mutation.AddFileID(v)
	return _u
}

// ClearFileID clears the value of the "file_id" field.
func (_u *MediaAssetUpdate) ClearFileID() *MediaAssetUpdate {
	_u.mutation.ClearFileID()
	return _u
}

// SetReferenceCount sets the "reference_count" field.
func (_u *MediaAssetUpdate) SetReferenceCount(v uint32) *MediaAssetUpdate {
	_u.mutation.ResetReferenceCount()
	_u.mutation.SetReferenceCount(v)
	return _u
}

// SetNillableReferenceCount sets the "reference_count" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableReferenceCount(v *uint32) *MediaAssetUpdate {
	if v != nil {
		_u.SetReferenceCount(*v)
	}
	return _u
}

// AddReferenceCount adds value to the "reference_count" field.
func (_u *MediaAssetUpdate) AddReferenceCount(v int32) *MediaAssetUpdate {
	_u.mutation.AddReferenceCount(v)
	return _u
}

// ClearReferenceCount clears the value of the "reference_count" field.
func (_u *MediaAssetUpdate) ClearReferenceCount() *MediaAssetUpdate {
	_u.mutation.ClearReferenceCount()
	return _u
}

// SetIsPrivate sets the "is_private" field.
func (_u *MediaAssetUpdate) SetIsPrivate(v bool) *MediaAssetUpdate {
	_u.mutation.SetIsPrivate(v)
	return _u
}

// SetNillableIsPrivate sets the "is_private" field if the given value is not nil.
func (_u *MediaAssetUpdate) SetNillableIsPrivate(v *bool) *MediaAssetUpdate {
	if v != nil {
		_u.SetIsPrivate(*v)
	}
	return _u
}

// ClearIsPrivate clears the value of the "is_private" field.
func (_u *MediaAssetUpdate) ClearIsPrivate() *MediaAssetUpdate {
	_u.mutation.ClearIsPrivate()
	return _u
}

// SetVariantFileIds sets the "variant_file_ids" field.
func (_u *MediaAssetUpdate) SetVariantFileIds(v *map[string]uint32) *MediaAssetUpdate {
	_u.mutation.SetVariantFileIds(v)
	return _u
}

// ClearVariantFileIds clears the value of the "variant_file_ids" field.
func (_u *MediaAssetUpdate) ClearVariantFileIds() *MediaAssetUpdate {
	_u.mutation.ClearVariantFileIds()
	return _u
}

// Mutation returns the MediaAssetMutation object of the builder.
func (_u *MediaAssetUpdate) Mutation() *MediaAssetMutation {
	return _u.mutation
}

// Save executes the query and returns the number of nodes affected by the update operation.
func (_u *MediaAssetUpdate) Save(ctx context.Context) (int, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *MediaAssetUpdate) SaveX(ctx context.Context) int {
	affected, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return affected
}

// Exec executes the query.
func (_u *MediaAssetUpdate) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *MediaAssetUpdate) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *MediaAssetUpdate) check() error {
	if v, ok := _u.mutation.GetType(); ok {
		if err := mediaasset.TypeValidator(v); err != nil {
			return &ValidationError{Name: "type", err: fmt.Errorf(`ent: validator failed for field "MediaAsset.type": %w`, err)}
		}
	}
	if v, ok := _u.mutation.ProcessingStatus(); ok {
		if err := mediaasset.ProcessingStatusValidator(v); err != nil {
			return &ValidationError{Name: "processing_status", err: fmt.Errorf(`ent: validator failed for field "MediaAsset.processing_status": %w`, err)}
		}
	}
	return nil
}

// Modify adds a statement modifier for attaching custom logic to the UPDATE statement.
func (_u *MediaAssetUpdate) Modify(modifiers ...func(u *sql.UpdateBuilder)) *MediaAssetUpdate {
	_u.modifiers = append(_u.modifiers, modifiers...)
	return _u
}

func (_u *MediaAssetUpdate) sqlSave(ctx context.Context) (_node int, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(mediaasset.Table, mediaasset.Columns, sqlgraph.NewFieldSpec(mediaasset.FieldID, field.TypeUint32))
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if _u.mutation.CreatedAtCleared() {
		_spec.ClearField(mediaasset.FieldCreatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(mediaasset.FieldUpdatedAt, field.TypeTime, value)
	}
	if _u.mutation.UpdatedAtCleared() {
		_spec.ClearField(mediaasset.FieldUpdatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.DeletedAt(); ok {
		_spec.SetField(mediaasset.FieldDeletedAt, field.TypeTime, value)
	}
	if _u.mutation.DeletedAtCleared() {
		_spec.ClearField(mediaasset.FieldDeletedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.CreatedBy(); ok {
		_spec.SetField(mediaasset.FieldCreatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedCreatedBy(); ok {
		_spec.AddField(mediaasset.FieldCreatedBy, field.TypeUint32, value)
	}
	if _u.mutation.CreatedByCleared() {
		_spec.ClearField(mediaasset.FieldCreatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.UpdatedBy(); ok {
		_spec.SetField(mediaasset.FieldUpdatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedUpdatedBy(); ok {
		_spec.AddField(mediaasset.FieldUpdatedBy, field.TypeUint32, value)
	}
	if _u.mutation.UpdatedByCleared() {
		_spec.ClearField(mediaasset.FieldUpdatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.DeletedBy(); ok {
		_spec.SetField(mediaasset.FieldDeletedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedDeletedBy(); ok {
		_spec.AddField(mediaasset.FieldDeletedBy, field.TypeUint32, value)
	}
	if _u.mutation.DeletedByCleared() {
		_spec.ClearField(mediaasset.FieldDeletedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.Filename(); ok {
		_spec.SetField(mediaasset.FieldFilename, field.TypeString, value)
	}
	if _u.mutation.FilenameCleared() {
		_spec.ClearField(mediaasset.FieldFilename, field.TypeString)
	}
	if value, ok := _u.mutation.GetType(); ok {
		_spec.SetField(mediaasset.FieldType, field.TypeEnum, value)
	}
	if _u.mutation.TypeCleared() {
		_spec.ClearField(mediaasset.FieldType, field.TypeEnum)
	}
	if value, ok := _u.mutation.MimeType(); ok {
		_spec.SetField(mediaasset.FieldMimeType, field.TypeString, value)
	}
	if _u.mutation.MimeTypeCleared() {
		_spec.ClearField(mediaasset.FieldMimeType, field.TypeString)
	}
	if value, ok := _u.mutation.Size(); ok {
		_spec.SetField(mediaasset.FieldSize, field.TypeUint64, value)
	}
	if value, ok := _u.mutation.AddedSize(); ok {
		_spec.AddField(mediaasset.FieldSize, field.TypeUint64, value)
	}
	if _u.mutation.SizeCleared() {
		_spec.ClearField(mediaasset.FieldSize, field.TypeUint64)
	}
	if value, ok := _u.mutation.StoragePath(); ok {
		_spec.SetField(mediaasset.FieldStoragePath, field.TypeString, value)
	}
	if _u.mutation.StoragePathCleared() {
		_spec.ClearField(mediaasset.FieldStoragePath, field.TypeString)
	}
	if value, ok := _u.mutation.URL(); ok {
		_spec.SetField(mediaasset.FieldURL, field.TypeString, value)
	}
	if _u.mutation.URLCleared() {
		_spec.ClearField(mediaasset.FieldURL, field.TypeString)
	}
	if value, ok := _u.mutation.Width(); ok {
		_spec.SetField(mediaasset.FieldWidth, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedWidth(); ok {
		_spec.AddField(mediaasset.FieldWidth, field.TypeUint32, value)
	}
	if _u.mutation.WidthCleared() {
		_spec.ClearField(mediaasset.FieldWidth, field.TypeUint32)
	}
	if value, ok := _u.mutation.Height(); ok {
		_spec.SetField(mediaasset.FieldHeight, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedHeight(); ok {
		_spec.AddField(mediaasset.FieldHeight, field.TypeUint32, value)
	}
	if _u.mutation.HeightCleared() {
		_spec.ClearField(mediaasset.FieldHeight, field.TypeUint32)
	}
	if value, ok := _u.mutation.Duration(); ok {
		_spec.SetField(mediaasset.FieldDuration, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedDuration(); ok {
		_spec.AddField(mediaasset.FieldDuration, field.TypeUint32, value)
	}
	if _u.mutation.DurationCleared() {
		_spec.ClearField(mediaasset.FieldDuration, field.TypeUint32)
	}
	if value, ok := _u.mutation.AltText(); ok {
		_spec.SetField(mediaasset.FieldAltText, field.TypeString, value)
	}
	if _u.mutation.AltTextCleared() {
		_spec.ClearField(mediaasset.FieldAltText, field.TypeString)
	}
	if value, ok := _u.mutation.Title(); ok {
		_spec.SetField(mediaasset.FieldTitle, field.TypeString, value)
	}
	if _u.mutation.TitleCleared() {
		_spec.ClearField(mediaasset.FieldTitle, field.TypeString)
	}
	if value, ok := _u.mutation.Caption(); ok {
		_spec.SetField(mediaasset.FieldCaption, field.TypeString, value)
	}
	if _u.mutation.CaptionCleared() {
		_spec.ClearField(mediaasset.FieldCaption, field.TypeString)
	}
	if value, ok := _u.mutation.ProcessingStatus(); ok {
		_spec.SetField(mediaasset.FieldProcessingStatus, field.TypeEnum, value)
	}
	if _u.mutation.ProcessingStatusCleared() {
		_spec.ClearField(mediaasset.FieldProcessingStatus, field.TypeEnum)
	}
	if value, ok := _u.mutation.ProcessingError(); ok {
		_spec.SetField(mediaasset.FieldProcessingError, field.TypeString, value)
	}
	if _u.mutation.ProcessingErrorCleared() {
		_spec.ClearField(mediaasset.FieldProcessingError, field.TypeString)
	}
	if value, ok := _u.mutation.FileHash(); ok {
		_spec.SetField(mediaasset.FieldFileHash, field.TypeString, value)
	}
	if _u.mutation.FileHashCleared() {
		_spec.ClearField(mediaasset.FieldFileHash, field.TypeString)
	}
	if value, ok := _u.mutation.FolderID(); ok {
		_spec.SetField(mediaasset.FieldFolderID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedFolderID(); ok {
		_spec.AddField(mediaasset.FieldFolderID, field.TypeUint32, value)
	}
	if _u.mutation.FolderIDCleared() {
		_spec.ClearField(mediaasset.FieldFolderID, field.TypeUint32)
	}
	if value, ok := _u.mutation.FileID(); ok {
		_spec.SetField(mediaasset.FieldFileID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedFileID(); ok {
		_spec.AddField(mediaasset.FieldFileID, field.TypeUint32, value)
	}
	if _u.mutation.FileIDCleared() {
		_spec.ClearField(mediaasset.FieldFileID, field.TypeUint32)
	}
	if value, ok := _u.mutation.ReferenceCount(); ok {
		_spec.SetField(mediaasset.FieldReferenceCount, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedReferenceCount(); ok {
		_spec.AddField(mediaasset.FieldReferenceCount, field.TypeUint32, value)
	}
	if _u.mutation.ReferenceCountCleared() {
		_spec.ClearField(mediaasset.FieldReferenceCount, field.TypeUint32)
	}
	if value, ok := _u.mutation.IsPrivate(); ok {
		_spec.SetField(mediaasset.FieldIsPrivate, field.TypeBool, value)
	}
	if _u.mutation.IsPrivateCleared() {
		_spec.ClearField(mediaasset.FieldIsPrivate, field.TypeBool)
	}
	if value, ok := _u.mutation.VariantFileIds(); ok {
		_spec.SetField(mediaasset.FieldVariantFileIds, field.TypeJSON, value)
	}
	if _u.mutation.VariantFileIdsCleared() {
		_spec.ClearField(mediaasset.FieldVariantFileIds, field.TypeJSON)
	}
	_spec.AddModifiers(_u.modifiers...)
	if _node, err = sqlgraph.UpdateNodes(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{mediaasset.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return 0, err
	}
	_u.mutation.done = true
	return _node, nil
}

// MediaAssetUpdateOne is the builder for updating a single MediaAsset entity.
type MediaAssetUpdateOne struct {
	config
	fields    []string
	hooks     []Hook
	mutation  *MediaAssetMutation
	modifiers []func(*sql.UpdateBuilder)
}

// SetUpdatedAt sets the "updated_at" field.
func (_u *MediaAssetUpdateOne) SetUpdatedAt(v time.Time) *MediaAssetUpdateOne {
	_u.mutation.SetUpdatedAt(v)
	return _u
}

// SetNillableUpdatedAt sets the "updated_at" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableUpdatedAt(v *time.Time) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetUpdatedAt(*v)
	}
	return _u
}

// ClearUpdatedAt clears the value of the "updated_at" field.
func (_u *MediaAssetUpdateOne) ClearUpdatedAt() *MediaAssetUpdateOne {
	_u.mutation.ClearUpdatedAt()
	return _u
}

// SetDeletedAt sets the "deleted_at" field.
func (_u *MediaAssetUpdateOne) SetDeletedAt(v time.Time) *MediaAssetUpdateOne {
	_u.mutation.SetDeletedAt(v)
	return _u
}

// SetNillableDeletedAt sets the "deleted_at" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableDeletedAt(v *time.Time) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetDeletedAt(*v)
	}
	return _u
}

// ClearDeletedAt clears the value of the "deleted_at" field.
func (_u *MediaAssetUpdateOne) ClearDeletedAt() *MediaAssetUpdateOne {
	_u.mutation.ClearDeletedAt()
	return _u
}

// SetCreatedBy sets the "created_by" field.
func (_u *MediaAssetUpdateOne) SetCreatedBy(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetCreatedBy()
	_u.mutation.SetCreatedBy(v)
	return _u
}

// SetNillableCreatedBy sets the "created_by" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableCreatedBy(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetCreatedBy(*v)
	}
	return _u
}

// AddCreatedBy adds value to the "created_by" field.
func (_u *MediaAssetUpdateOne) AddCreatedBy(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddCreatedBy(v)
	return _u
}

// ClearCreatedBy clears the value of the "created_by" field.
func (_u *MediaAssetUpdateOne) ClearCreatedBy() *MediaAssetUpdateOne {
	_u.mutation.ClearCreatedBy()
	return _u
}

// SetUpdatedBy sets the "updated_by" field.
func (_u *MediaAssetUpdateOne) SetUpdatedBy(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetUpdatedBy()
	_u.mutation.SetUpdatedBy(v)
	return _u
}

// SetNillableUpdatedBy sets the "updated_by" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableUpdatedBy(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetUpdatedBy(*v)
	}
	return _u
}

// AddUpdatedBy adds value to the "updated_by" field.
func (_u *MediaAssetUpdateOne) AddUpdatedBy(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddUpdatedBy(v)
	return _u
}

// ClearUpdatedBy clears the value of the "updated_by" field.
func (_u *MediaAssetUpdateOne) ClearUpdatedBy() *MediaAssetUpdateOne {
	_u.mutation.ClearUpdatedBy()
	return _u
}

// SetDeletedBy sets the "deleted_by" field.
func (_u *MediaAssetUpdateOne) SetDeletedBy(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetDeletedBy()
	_u.mutation.SetDeletedBy(v)
	return _u
}

// SetNillableDeletedBy sets the "deleted_by" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableDeletedBy(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetDeletedBy(*v)
	}
	return _u
}

// AddDeletedBy adds value to the "deleted_by" field.
func (_u *MediaAssetUpdateOne) AddDeletedBy(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddDeletedBy(v)
	return _u
}

// ClearDeletedBy clears the value of the "deleted_by" field.
func (_u *MediaAssetUpdateOne) ClearDeletedBy() *MediaAssetUpdateOne {
	_u.mutation.ClearDeletedBy()
	return _u
}

// SetFilename sets the "filename" field.
func (_u *MediaAssetUpdateOne) SetFilename(v string) *MediaAssetUpdateOne {
	_u.mutation.SetFilename(v)
	return _u
}

// SetNillableFilename sets the "filename" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableFilename(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetFilename(*v)
	}
	return _u
}

// ClearFilename clears the value of the "filename" field.
func (_u *MediaAssetUpdateOne) ClearFilename() *MediaAssetUpdateOne {
	_u.mutation.ClearFilename()
	return _u
}

// SetType sets the "type" field.
func (_u *MediaAssetUpdateOne) SetType(v mediaasset.Type) *MediaAssetUpdateOne {
	_u.mutation.SetType(v)
	return _u
}

// SetNillableType sets the "type" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableType(v *mediaasset.Type) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetType(*v)
	}
	return _u
}

// ClearType clears the value of the "type" field.
func (_u *MediaAssetUpdateOne) ClearType() *MediaAssetUpdateOne {
	_u.mutation.ClearType()
	return _u
}

// SetMimeType sets the "mime_type" field.
func (_u *MediaAssetUpdateOne) SetMimeType(v string) *MediaAssetUpdateOne {
	_u.mutation.SetMimeType(v)
	return _u
}

// SetNillableMimeType sets the "mime_type" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableMimeType(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetMimeType(*v)
	}
	return _u
}

// ClearMimeType clears the value of the "mime_type" field.
func (_u *MediaAssetUpdateOne) ClearMimeType() *MediaAssetUpdateOne {
	_u.mutation.ClearMimeType()
	return _u
}

// SetSize sets the "size" field.
func (_u *MediaAssetUpdateOne) SetSize(v uint64) *MediaAssetUpdateOne {
	_u.mutation.ResetSize()
	_u.mutation.SetSize(v)
	return _u
}

// SetNillableSize sets the "size" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableSize(v *uint64) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetSize(*v)
	}
	return _u
}

// AddSize adds value to the "size" field.
func (_u *MediaAssetUpdateOne) AddSize(v int64) *MediaAssetUpdateOne {
	_u.mutation.AddSize(v)
	return _u
}

// ClearSize clears the value of the "size" field.
func (_u *MediaAssetUpdateOne) ClearSize() *MediaAssetUpdateOne {
	_u.mutation.ClearSize()
	return _u
}

// SetStoragePath sets the "storage_path" field.
func (_u *MediaAssetUpdateOne) SetStoragePath(v string) *MediaAssetUpdateOne {
	_u.mutation.SetStoragePath(v)
	return _u
}

// SetNillableStoragePath sets the "storage_path" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableStoragePath(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetStoragePath(*v)
	}
	return _u
}

// ClearStoragePath clears the value of the "storage_path" field.
func (_u *MediaAssetUpdateOne) ClearStoragePath() *MediaAssetUpdateOne {
	_u.mutation.ClearStoragePath()
	return _u
}

// SetURL sets the "url" field.
func (_u *MediaAssetUpdateOne) SetURL(v string) *MediaAssetUpdateOne {
	_u.mutation.SetURL(v)
	return _u
}

// SetNillableURL sets the "url" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableURL(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetURL(*v)
	}
	return _u
}

// ClearURL clears the value of the "url" field.
func (_u *MediaAssetUpdateOne) ClearURL() *MediaAssetUpdateOne {
	_u.mutation.ClearURL()
	return _u
}

// SetWidth sets the "width" field.
func (_u *MediaAssetUpdateOne) SetWidth(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetWidth()
	_u.mutation.SetWidth(v)
	return _u
}

// SetNillableWidth sets the "width" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableWidth(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetWidth(*v)
	}
	return _u
}

// AddWidth adds value to the "width" field.
func (_u *MediaAssetUpdateOne) AddWidth(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddWidth(v)
	return _u
}

// ClearWidth clears the value of the "width" field.
func (_u *MediaAssetUpdateOne) ClearWidth() *MediaAssetUpdateOne {
	_u.mutation.ClearWidth()
	return _u
}

// SetHeight sets the "height" field.
func (_u *MediaAssetUpdateOne) SetHeight(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetHeight()
	_u.mutation.SetHeight(v)
	return _u
}

// SetNillableHeight sets the "height" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableHeight(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetHeight(*v)
	}
	return _u
}

// AddHeight adds value to the "height" field.
func (_u *MediaAssetUpdateOne) AddHeight(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddHeight(v)
	return _u
}

// ClearHeight clears the value of the "height" field.
func (_u *MediaAssetUpdateOne) ClearHeight() *MediaAssetUpdateOne {
	_u.mutation.ClearHeight()
	return _u
}

// SetDuration sets the "duration" field.
func (_u *MediaAssetUpdateOne) SetDuration(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetDuration()
	_u.mutation.SetDuration(v)
	return _u
}

// SetNillableDuration sets the "duration" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableDuration(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetDuration(*v)
	}
	return _u
}

// AddDuration adds value to the "duration" field.
func (_u *MediaAssetUpdateOne) AddDuration(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddDuration(v)
	return _u
}

// ClearDuration clears the value of the "duration" field.
func (_u *MediaAssetUpdateOne) ClearDuration() *MediaAssetUpdateOne {
	_u.mutation.ClearDuration()
	return _u
}

// SetAltText sets the "alt_text" field.
func (_u *MediaAssetUpdateOne) SetAltText(v string) *MediaAssetUpdateOne {
	_u.mutation.SetAltText(v)
	return _u
}

// SetNillableAltText sets the "alt_text" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableAltText(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetAltText(*v)
	}
	return _u
}

// ClearAltText clears the value of the "alt_text" field.
func (_u *MediaAssetUpdateOne) ClearAltText() *MediaAssetUpdateOne {
	_u.mutation.ClearAltText()
	return _u
}

// SetTitle sets the "title" field.
func (_u *MediaAssetUpdateOne) SetTitle(v string) *MediaAssetUpdateOne {
	_u.mutation.SetTitle(v)
	return _u
}

// SetNillableTitle sets the "title" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableTitle(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetTitle(*v)
	}
	return _u
}

// ClearTitle clears the value of the "title" field.
func (_u *MediaAssetUpdateOne) ClearTitle() *MediaAssetUpdateOne {
	_u.mutation.ClearTitle()
	return _u
}

// SetCaption sets the "caption" field.
func (_u *MediaAssetUpdateOne) SetCaption(v string) *MediaAssetUpdateOne {
	_u.mutation.SetCaption(v)
	return _u
}

// SetNillableCaption sets the "caption" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableCaption(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetCaption(*v)
	}
	return _u
}

// ClearCaption clears the value of the "caption" field.
func (_u *MediaAssetUpdateOne) ClearCaption() *MediaAssetUpdateOne {
	_u.mutation.ClearCaption()
	return _u
}

// SetProcessingStatus sets the "processing_status" field.
func (_u *MediaAssetUpdateOne) SetProcessingStatus(v mediaasset.ProcessingStatus) *MediaAssetUpdateOne {
	_u.mutation.SetProcessingStatus(v)
	return _u
}

// SetNillableProcessingStatus sets the "processing_status" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableProcessingStatus(v *mediaasset.ProcessingStatus) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetProcessingStatus(*v)
	}
	return _u
}

// ClearProcessingStatus clears the value of the "processing_status" field.
func (_u *MediaAssetUpdateOne) ClearProcessingStatus() *MediaAssetUpdateOne {
	_u.mutation.ClearProcessingStatus()
	return _u
}

// SetProcessingError sets the "processing_error" field.
func (_u *MediaAssetUpdateOne) SetProcessingError(v string) *MediaAssetUpdateOne {
	_u.mutation.SetProcessingError(v)
	return _u
}

// SetNillableProcessingError sets the "processing_error" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableProcessingError(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetProcessingError(*v)
	}
	return _u
}

// ClearProcessingError clears the value of the "processing_error" field.
func (_u *MediaAssetUpdateOne) ClearProcessingError() *MediaAssetUpdateOne {
	_u.mutation.ClearProcessingError()
	return _u
}

// SetFileHash sets the "file_hash" field.
func (_u *MediaAssetUpdateOne) SetFileHash(v string) *MediaAssetUpdateOne {
	_u.mutation.SetFileHash(v)
	return _u
}

// SetNillableFileHash sets the "file_hash" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableFileHash(v *string) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetFileHash(*v)
	}
	return _u
}

// ClearFileHash clears the value of the "file_hash" field.
func (_u *MediaAssetUpdateOne) ClearFileHash() *MediaAssetUpdateOne {
	_u.mutation.ClearFileHash()
	return _u
}

// SetFolderID sets the "folder_id" field.
func (_u *MediaAssetUpdateOne) SetFolderID(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetFolderID()
	_u.mutation.SetFolderID(v)
	return _u
}

// SetNillableFolderID sets the "folder_id" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableFolderID(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetFolderID(*v)
	}
	return _u
}

// AddFolderID adds value to the "folder_id" field.
func (_u *MediaAssetUpdateOne) AddFolderID(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddFolderID(v)
	return _u
}

// ClearFolderID clears the value of the "folder_id" field.
func (_u *MediaAssetUpdateOne) ClearFolderID() *MediaAssetUpdateOne {
	_u.mutation.ClearFolderID()
	return _u
}

// SetFileID sets the "file_id" field.
func (_u *MediaAssetUpdateOne) SetFileID(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetFileID()
	_u.mutation.SetFileID(v)
	return _u
}

// SetNillableFileID sets the "file_id" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableFileID(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetFileID(*v)
	}
	return _u
}

// AddFileID adds value to the "file_id" field.
func (_u *MediaAssetUpdateOne) AddFileID(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddFileID(v)
	return _u
}

// ClearFileID clears the value of the "file_id" field.
func (_u *MediaAssetUpdateOne) ClearFileID() *MediaAssetUpdateOne {
	_u.mutation.ClearFileID()
	return _u
}

// SetReferenceCount sets the "reference_count" field.
func (_u *MediaAssetUpdateOne) SetReferenceCount(v uint32) *MediaAssetUpdateOne {
	_u.mutation.ResetReferenceCount()
	_u.mutation.SetReferenceCount(v)
	return _u
}

// SetNillableReferenceCount sets the "reference_count" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableReferenceCount(v *uint32) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetReferenceCount(*v)
	}
	return _u
}

// AddReferenceCount adds value to the "reference_count" field.
func (_u *MediaAssetUpdateOne) AddReferenceCount(v int32) *MediaAssetUpdateOne {
	_u.mutation.AddReferenceCount(v)
	return _u
}

// ClearReferenceCount clears the value of the "reference_count" field.
func (_u *MediaAssetUpdateOne) ClearReferenceCount() *MediaAssetUpdateOne {
	_u.mutation.ClearReferenceCount()
	return _u
}

// SetIsPrivate sets the "is_private" field.
func (_u *MediaAssetUpdateOne) SetIsPrivate(v bool) *MediaAssetUpdateOne {
	_u.mutation.SetIsPrivate(v)
	return _u
}

// SetNillableIsPrivate sets the "is_private" field if the given value is not nil.
func (_u *MediaAssetUpdateOne) SetNillableIsPrivate(v *bool) *MediaAssetUpdateOne {
	if v != nil {
		_u.SetIsPrivate(*v)
	}
	return _u
}

// ClearIsPrivate clears the value of the "is_private" field.
func (_u *MediaAssetUpdateOne) ClearIsPrivate() *MediaAssetUpdateOne {
	_u.mutation.ClearIsPrivate()
	return _u
}

// SetVariantFileIds sets the "variant_file_ids" field.
func (_u *MediaAssetUpdateOne) SetVariantFileIds(v *map[string]uint32) *MediaAssetUpdateOne {
	_u.mutation.SetVariantFileIds(v)
	return _u
}

// ClearVariantFileIds clears the value of the "variant_file_ids" field.
func (_u *MediaAssetUpdateOne) ClearVariantFileIds() *MediaAssetUpdateOne {
	_u.mutation.ClearVariantFileIds()
	return _u
}

// Mutation returns the MediaAssetMutation object of the builder.
func (_u *MediaAssetUpdateOne) Mutation() *MediaAssetMutation {
	return _u.mutation
}

// Where appends a list predicates to the MediaAssetUpdate builder.
func (_u *MediaAssetUpdateOne) Where(ps ...predicate.MediaAsset) *MediaAssetUpdateOne {
	_u.mutation.Where(ps...)
	return _u
}

// Select allows selecting one or more fields (columns) of the returned entity.
// The default is selecting all fields defined in the entity schema.
func (_u *MediaAssetUpdateOne) Select(field string, fields ...string) *MediaAssetUpdateOne {
	_u.fields = append([]string{field}, fields...)
	return _u
}

// Save executes the query and returns the updated MediaAsset entity.
func (_u *MediaAssetUpdateOne) Save(ctx context.Context) (*MediaAsset, error) {
	return withHooks(ctx, _u.sqlSave, _u.mutation, _u.hooks)
}

// SaveX is like Save, but panics if an error occurs.
func (_u *MediaAssetUpdateOne) SaveX(ctx context.Context) *MediaAsset {
	node, err := _u.Save(ctx)
	if err != nil {
		panic(err)
	}
	return node
}

// Exec executes the query on the entity.
func (_u *MediaAssetUpdateOne) Exec(ctx context.Context) error {
	_, err := _u.Save(ctx)
	return err
}

// ExecX is like Exec, but panics if an error occurs.
func (_u *MediaAssetUpdateOne) ExecX(ctx context.Context) {
	if err := _u.Exec(ctx); err != nil {
		panic(err)
	}
}

// check runs all checks and user-defined validators on the builder.
func (_u *MediaAssetUpdateOne) check() error {
	if v, ok := _u.mutation.GetType(); ok {
		if err := mediaasset.TypeValidator(v); err != nil {
			return &ValidationError{Name: "type", err: fmt.Errorf(`ent: validator failed for field "MediaAsset.type": %w`, err)}
		}
	}
	if v, ok := _u.mutation.ProcessingStatus(); ok {
		if err := mediaasset.ProcessingStatusValidator(v); err != nil {
			return &ValidationError{Name: "processing_status", err: fmt.Errorf(`ent: validator failed for field "MediaAsset.processing_status": %w`, err)}
		}
	}
	return nil
}

// Modify adds a statement modifier for attaching custom logic to the UPDATE statement.
func (_u *MediaAssetUpdateOne) Modify(modifiers ...func(u *sql.UpdateBuilder)) *MediaAssetUpdateOne {
	_u.modifiers = append(_u.modifiers, modifiers...)
	return _u
}

func (_u *MediaAssetUpdateOne) sqlSave(ctx context.Context) (_node *MediaAsset, err error) {
	if err := _u.check(); err != nil {
		return _node, err
	}
	_spec := sqlgraph.NewUpdateSpec(mediaasset.Table, mediaasset.Columns, sqlgraph.NewFieldSpec(mediaasset.FieldID, field.TypeUint32))
	id, ok := _u.mutation.ID()
	if !ok {
		return nil, &ValidationError{Name: "id", err: errors.New(`ent: missing "MediaAsset.id" for update`)}
	}
	_spec.Node.ID.Value = id
	if fields := _u.fields; len(fields) > 0 {
		_spec.Node.Columns = make([]string, 0, len(fields))
		_spec.Node.Columns = append(_spec.Node.Columns, mediaasset.FieldID)
		for _, f := range fields {
			if !mediaasset.ValidColumn(f) {
				return nil, &ValidationError{Name: f, err: fmt.Errorf("ent: invalid field %q for query", f)}
			}
			if f != mediaasset.FieldID {
				_spec.Node.Columns = append(_spec.Node.Columns, f)
			}
		}
	}
	if ps := _u.mutation.predicates; len(ps) > 0 {
		_spec.Predicate = func(selector *sql.Selector) {
			for i := range ps {
				ps[i](selector)
			}
		}
	}
	if _u.mutation.CreatedAtCleared() {
		_spec.ClearField(mediaasset.FieldCreatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.UpdatedAt(); ok {
		_spec.SetField(mediaasset.FieldUpdatedAt, field.TypeTime, value)
	}
	if _u.mutation.UpdatedAtCleared() {
		_spec.ClearField(mediaasset.FieldUpdatedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.DeletedAt(); ok {
		_spec.SetField(mediaasset.FieldDeletedAt, field.TypeTime, value)
	}
	if _u.mutation.DeletedAtCleared() {
		_spec.ClearField(mediaasset.FieldDeletedAt, field.TypeTime)
	}
	if value, ok := _u.mutation.CreatedBy(); ok {
		_spec.SetField(mediaasset.FieldCreatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedCreatedBy(); ok {
		_spec.AddField(mediaasset.FieldCreatedBy, field.TypeUint32, value)
	}
	if _u.mutation.CreatedByCleared() {
		_spec.ClearField(mediaasset.FieldCreatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.UpdatedBy(); ok {
		_spec.SetField(mediaasset.FieldUpdatedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedUpdatedBy(); ok {
		_spec.AddField(mediaasset.FieldUpdatedBy, field.TypeUint32, value)
	}
	if _u.mutation.UpdatedByCleared() {
		_spec.ClearField(mediaasset.FieldUpdatedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.DeletedBy(); ok {
		_spec.SetField(mediaasset.FieldDeletedBy, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedDeletedBy(); ok {
		_spec.AddField(mediaasset.FieldDeletedBy, field.TypeUint32, value)
	}
	if _u.mutation.DeletedByCleared() {
		_spec.ClearField(mediaasset.FieldDeletedBy, field.TypeUint32)
	}
	if value, ok := _u.mutation.Filename(); ok {
		_spec.SetField(mediaasset.FieldFilename, field.TypeString, value)
	}
	if _u.mutation.FilenameCleared() {
		_spec.ClearField(mediaasset.FieldFilename, field.TypeString)
	}
	if value, ok := _u.mutation.GetType(); ok {
		_spec.SetField(mediaasset.FieldType, field.TypeEnum, value)
	}
	if _u.mutation.TypeCleared() {
		_spec.ClearField(mediaasset.FieldType, field.TypeEnum)
	}
	if value, ok := _u.mutation.MimeType(); ok {
		_spec.SetField(mediaasset.FieldMimeType, field.TypeString, value)
	}
	if _u.mutation.MimeTypeCleared() {
		_spec.ClearField(mediaasset.FieldMimeType, field.TypeString)
	}
	if value, ok := _u.mutation.Size(); ok {
		_spec.SetField(mediaasset.FieldSize, field.TypeUint64, value)
	}
	if value, ok := _u.mutation.AddedSize(); ok {
		_spec.AddField(mediaasset.FieldSize, field.TypeUint64, value)
	}
	if _u.mutation.SizeCleared() {
		_spec.ClearField(mediaasset.FieldSize, field.TypeUint64)
	}
	if value, ok := _u.mutation.StoragePath(); ok {
		_spec.SetField(mediaasset.FieldStoragePath, field.TypeString, value)
	}
	if _u.mutation.StoragePathCleared() {
		_spec.ClearField(mediaasset.FieldStoragePath, field.TypeString)
	}
	if value, ok := _u.mutation.URL(); ok {
		_spec.SetField(mediaasset.FieldURL, field.TypeString, value)
	}
	if _u.mutation.URLCleared() {
		_spec.ClearField(mediaasset.FieldURL, field.TypeString)
	}
	if value, ok := _u.mutation.Width(); ok {
		_spec.SetField(mediaasset.FieldWidth, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedWidth(); ok {
		_spec.AddField(mediaasset.FieldWidth, field.TypeUint32, value)
	}
	if _u.mutation.WidthCleared() {
		_spec.ClearField(mediaasset.FieldWidth, field.TypeUint32)
	}
	if value, ok := _u.mutation.Height(); ok {
		_spec.SetField(mediaasset.FieldHeight, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedHeight(); ok {
		_spec.AddField(mediaasset.FieldHeight, field.TypeUint32, value)
	}
	if _u.mutation.HeightCleared() {
		_spec.ClearField(mediaasset.FieldHeight, field.TypeUint32)
	}
	if value, ok := _u.mutation.Duration(); ok {
		_spec.SetField(mediaasset.FieldDuration, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedDuration(); ok {
		_spec.AddField(mediaasset.FieldDuration, field.TypeUint32, value)
	}
	if _u.mutation.DurationCleared() {
		_spec.ClearField(mediaasset.FieldDuration, field.TypeUint32)
	}
	if value, ok := _u.mutation.AltText(); ok {
		_spec.SetField(mediaasset.FieldAltText, field.TypeString, value)
	}
	if _u.mutation.AltTextCleared() {
		_spec.ClearField(mediaasset.FieldAltText, field.TypeString)
	}
	if value, ok := _u.mutation.Title(); ok {
		_spec.SetField(mediaasset.FieldTitle, field.TypeString, value)
	}
	if _u.mutation.TitleCleared() {
		_spec.ClearField(mediaasset.FieldTitle, field.TypeString)
	}
	if value, ok := _u.mutation.Caption(); ok {
		_spec.SetField(mediaasset.FieldCaption, field.TypeString, value)
	}
	if _u.mutation.CaptionCleared() {
		_spec.ClearField(mediaasset.FieldCaption, field.TypeString)
	}
	if value, ok := _u.mutation.ProcessingStatus(); ok {
		_spec.SetField(mediaasset.FieldProcessingStatus, field.TypeEnum, value)
	}
	if _u.mutation.ProcessingStatusCleared() {
		_spec.ClearField(mediaasset.FieldProcessingStatus, field.TypeEnum)
	}
	if value, ok := _u.mutation.ProcessingError(); ok {
		_spec.SetField(mediaasset.FieldProcessingError, field.TypeString, value)
	}
	if _u.mutation.ProcessingErrorCleared() {
		_spec.ClearField(mediaasset.FieldProcessingError, field.TypeString)
	}
	if value, ok := _u.mutation.FileHash(); ok {
		_spec.SetField(mediaasset.FieldFileHash, field.TypeString, value)
	}
	if _u.mutation.FileHashCleared() {
		_spec.ClearField(mediaasset.FieldFileHash, field.TypeString)
	}
	if value, ok := _u.mutation.FolderID(); ok {
		_spec.SetField(mediaasset.FieldFolderID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedFolderID(); ok {
		_spec.AddField(mediaasset.FieldFolderID, field.TypeUint32, value)
	}
	if _u.mutation.FolderIDCleared() {
		_spec.ClearField(mediaasset.FieldFolderID, field.TypeUint32)
	}
	if value, ok := _u.mutation.FileID(); ok {
		_spec.SetField(mediaasset.FieldFileID, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedFileID(); ok {
		_spec.AddField(mediaasset.FieldFileID, field.TypeUint32, value)
	}
	if _u.mutation.FileIDCleared() {
		_spec.ClearField(mediaasset.FieldFileID, field.TypeUint32)
	}
	if value, ok := _u.mutation.ReferenceCount(); ok {
		_spec.SetField(mediaasset.FieldReferenceCount, field.TypeUint32, value)
	}
	if value, ok := _u.mutation.AddedReferenceCount(); ok {
		_spec.AddField(mediaasset.FieldReferenceCount, field.TypeUint32, value)
	}
	if _u.mutation.ReferenceCountCleared() {
		_spec.ClearField(mediaasset.FieldReferenceCount, field.TypeUint32)
	}
	if value, ok := _u.mutation.IsPrivate(); ok {
		_spec.SetField(mediaasset.FieldIsPrivate, field.TypeBool, value)
	}
	if _u.mutation.IsPrivateCleared() {
		_spec.ClearField(mediaasset.FieldIsPrivate, field.TypeBool)
	}
	if value, ok := _u.mutation.VariantFileIds(); ok {
		_spec.SetField(mediaasset.FieldVariantFileIds, field.TypeJSON, value)
	}
	if _u.mutation.VariantFileIdsCleared() {
		_spec.ClearField(mediaasset.FieldVariantFileIds, field.TypeJSON)
	}
	_spec.AddModifiers(_u.modifiers...)
	_node = &MediaAsset{config: _u.config}
	_spec.Assign = _node.assignValues
	_spec.ScanValues = _node.scanValues
	if err = sqlgraph.UpdateNode(ctx, _u.driver, _spec); err != nil {
		if _, ok := err.(*sqlgraph.NotFoundError); ok {
			err = &NotFoundError{mediaasset.Label}
		} else if sqlgraph.IsConstraintError(err) {
			err = &ConstraintError{msg: err.Error(), wrap: err}
		}
		return nil, err
	}
	_u.mutation.done = true
	return _node, nil
}
